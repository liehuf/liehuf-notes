(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{374:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"verilog-hdl程序设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verilog-hdl程序设计"}},[s._v("#")]),s._v(" "),t("strong",[s._v("Verilog HDL程序设计")])]),s._v(" "),t("h2",{attrs:{id:"一、数据流建模"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、数据流建模"}},[s._v("#")]),s._v(" 一、数据流建模")]),s._v(" "),t("h4",{attrs:{id:"_1-数据流建模是啥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据流建模是啥"}},[s._v("#")]),s._v(" "),t("strong",[s._v("1. 数据流建模是啥？")])]),s._v(" "),t("p",[t("strong",[s._v("核心思想")]),s._v("：用“电线连接”的方式描述电路，直接表示信号如何从输入流动到输出。\n"),t("strong",[s._v("类比")]),s._v("：就像画电路图，用导线把各个元件连起来，比如 "),t("code",[s._v("A和B接个与门，输出Y")]),s._v("。")]),s._v(" "),t("h4",{attrs:{id:"_2-核心工具-连续赋值语句-assign"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-核心工具-连续赋值语句-assign"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2. 核心工具：连续赋值语句（"),t("code",[s._v("assign")]),s._v("）")])]),s._v(" "),t("p",[t("strong",[s._v("作用")]),s._v("：告诉Verilog“这根线（wire）的值等于某个表达式的结果”。")]),s._v(" "),t("h5",{attrs:{id:"_2-1-显式连续赋值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-显式连续赋值"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.1 显式连续赋值")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" Y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 先声明线网")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 再用assign赋值")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("带延迟的例子")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("#3")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 计算A&B后，延迟3个单位时间再赋值给Y")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("h5",{attrs:{id:"_2-2-隐式连续赋值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-隐式连续赋值"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.2 隐式连续赋值")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("语法")]),s._v("（声明时直接赋值）：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 声明时直接赋值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" #"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Z "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" X"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 带延迟（上升2，下降3，关断4）")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("带驱动强度的例子")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("strong1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("weak0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出1时强驱动，0时弱驱动")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"_3-连续赋值的特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-连续赋值的特点"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3. 连续赋值的特点")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("目标必须是"),t("code",[s._v("wire")])]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("不能给"),t("code",[s._v("reg")]),s._v("类型赋值！")])]),s._v(" "),t("li",[t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" Y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 正确")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("reg")]),s._v(" Y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 错误！assign不能用于reg")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("实时更新")]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("只要右边的信号（如"),t("code",[s._v("A")]),s._v("或"),t("code",[s._v("B")]),s._v("）变化，立刻重新计算并赋值。")])]),s._v(" "),t("li",[t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// A或B一变，Y立刻更新")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("并行执行")]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("所有"),t("code",[s._v("assign")]),s._v("语句同时工作，和代码顺序无关。")])]),s._v(" "),t("li",[t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" Z "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" C "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" D"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这两行并行执行")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("延迟是“惯性延时”")]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("短于延迟的脉冲会被过滤掉。")])]),s._v(" "),t("li",[t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("#5")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果A的脉冲宽度<5，Y不会变化")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])])]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"_4-实际代码示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-实际代码示例"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4. 实际代码示例")])]),s._v(" "),t("h5",{attrs:{id:"_4-1-显式赋值-带延迟"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-显式赋值-带延迟"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4.1 显式赋值（带延迟）")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("example1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" #"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 上升延迟3，下降2，关断4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h5",{attrs:{id:"_4-2-隐式赋值-带驱动强度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-隐式赋值-带驱动强度"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4.2 隐式赋值（带驱动强度）")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("example2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" W"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("strong0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("weak1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" W "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v(" N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_5-常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-常见问题"}},[s._v("#")]),s._v(" "),t("strong",[s._v("5. 常见问题")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("什么时候用连续赋值？")])]),s._v(" "),t("ul",[t("li",[s._v("描述组合逻辑（如与门、加法器、多路选择器）。")]),s._v(" "),t("li",[s._v("不适合时序逻辑（如触发器要用"),t("code",[s._v("always")]),s._v("块）。")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("忘记写"),t("code",[s._v("assign")]),s._v("会怎样？")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("直接写 "),t("code",[s._v("wire Y = A;")]),s._v(" 是隐式赋值，合法。")])]),s._v(" "),t("li",[t("p",[s._v("但分开写时漏掉"),t("code",[s._v("assign")]),s._v("会报错：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" Y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nY "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 错误！缺少assign")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("能用在"),t("code",[s._v("always")]),s._v("块里吗？")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("不能！")]),s._v(" "),t("code",[s._v("assign")]),s._v("是并行语句，"),t("code",[s._v("always")]),s._v("是过程块，两者不兼容。")])])])]),s._v(" "),t("h2",{attrs:{id:"二、行为级建模"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、行为级建模"}},[s._v("#")]),s._v(" 二、行为级建模")]),s._v(" "),t("h4",{attrs:{id:"_1-行为级建模是啥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-行为级建模是啥"}},[s._v("#")]),s._v(" "),t("strong",[s._v("1. 行为级建模是啥？")])]),s._v(" "),t("p",[t("strong",[s._v("核心思想")]),s._v('：用"软件思维"描述硬件行为，重点关注电路做什么（功能），而不是具体怎么连线。\n'),t("strong",[s._v("类比")]),s._v("：就像写剧本告诉演员怎么演，而不是设计舞台的每个螺丝钉。")]),s._v(" "),t("h4",{attrs:{id:"_2-核心工具-过程块-always-initial"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-核心工具-过程块-always-initial"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2. 核心工具：过程块（always/initial）")])]),s._v(" "),t("h5",{attrs:{id:"_2-1-initial块-一次性剧本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-initial块-一次性剧本"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.1 initial块 - 一次性剧本")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("特点")]),s._v("：只执行一次，主要用于仿真初始化。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("示例")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("initial")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  clk "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 初始时钟为0")]),s._v("\n  reset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 复位信号置1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("#50")]),s._v(" reset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 50单位时间后取消复位")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])]),s._v(" "),t("h5",{attrs:{id:"_2-2-always块-循环剧本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-always块-循环剧本"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.2 always块 - 循环剧本")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("特点")]),s._v("：不断重复执行，是硬件行为的核心描述方式。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("敏感列表")]),s._v("：决定何时触发：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 组合逻辑：输入变化就执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 时序逻辑：时钟边沿触发")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("posedge")]),s._v(" clk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"_3-过程赋值-硬件界的-变量赋值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-过程赋值-硬件界的-变量赋值"}},[s._v("#")]),s._v(" "),t("strong",[s._v('3. 过程赋值：硬件界的"变量赋值"')])]),s._v(" "),t("h5",{attrs:{id:"_3-1-阻塞赋值-顺序执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-阻塞赋值-顺序执行"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3.1 阻塞赋值（=） - 顺序执行")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("特点")]),s._v("：像普通编程语言，一步完成计算和赋值。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("适用场景")]),s._v("：组合逻辑设计。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("示例")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  temp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 立即计算并赋值")]),s._v("\n  y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" temp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用更新后的temp")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])]),s._v(" "),t("h5",{attrs:{id:"_3-2-非阻塞赋值-并行执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-非阻塞赋值-并行执行"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3.2 非阻塞赋值（<=） - 并行执行")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("特点")]),s._v("：先计算右边，等时间步结束才统一赋值。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("适用场景")]),s._v("：时序逻辑设计（触发器）。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("示例")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("posedge")]),s._v(" clk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  q1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这三个赋值")]),s._v("\n  q2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" q1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是同时进行的")]),s._v("\n  q3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" q2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 构成移位寄存器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"_4-流程控制-硬件版的-if-else"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-流程控制-硬件版的-if-else"}},[s._v("#")]),s._v(" "),t("strong",[s._v('4. 流程控制：硬件版的"if-else"')])]),s._v(" "),t("h5",{attrs:{id:"_4-1-if-else语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-if-else语句"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4.1 if-else语句")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("特点")]),s._v("：带优先级的选择结构。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("示例")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sel "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1'b1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sel为1选a")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" \n    y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 否则选b")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])])]),s._v(" "),t("h5",{attrs:{id:"_4-2-case语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-case语句"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4.2 case语句")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("特点")]),s._v("：多路分支，无优先级。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("特殊形式")]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("casez")]),s._v("：忽略z(高阻)和?（无关位）")]),s._v(" "),t("li",[t("code",[s._v("casex")]),s._v("：忽略x(未知)、z和?")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("示例")]),s._v("（BCD译码器）：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("case")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4'd0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" seg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7'b1111110")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 显示数字0")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4'd1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" seg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7'b0110000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 显示数字1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" seg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7'bx")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 其他情况输出未知")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endcase")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"_5-循环语句-硬件也能-循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-循环语句-硬件也能-循环"}},[s._v("#")]),s._v(" "),t("strong",[s._v('5. 循环语句：硬件也能"循环"？')])]),s._v(" "),t("h5",{attrs:{id:"_5-1-for循环-可综合的循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-for循环-可综合的循环"}},[s._v("#")]),s._v(" "),t("strong",[s._v("5.1 for循环 - 可综合的循环")])]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("特点")]),s._v("：编译时会展开为硬件结构。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("示例")]),s._v("（位反转）：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("for")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  rev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成8个并行的连线")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])]),s._v(" "),t("h5",{attrs:{id:"_5-2-其他循环-仿真用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-其他循环-仿真用"}},[s._v("#")]),s._v(" "),t("strong",[s._v("5.2 其他循环（仿真用）")])]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("forever")]),s._v("：无限循环（如生成时钟）")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("initial")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("forever")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("#10")]),s._v(" clk "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),s._v("clk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 每10ns翻转")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("repeat")]),s._v("：固定次数循环")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("repeat")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("posedge")]),s._v(" clk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 等待5个时钟周期")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"_6-关键注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-关键注意事项"}},[s._v("#")]),s._v(" "),t("strong",[s._v("6. 关键注意事项")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("reg不一定生成寄存器")]),s._v("：")]),s._v(" "),t("ul",[t("li",[s._v("在always块中用"),t("code",[s._v("=")]),s._v("赋值可能生成组合逻辑")]),s._v(" "),t("li",[s._v("只有时钟触发的"),t("code",[s._v("<=")]),s._v("才会生成触发器")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("敏感列表要完整")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 组合逻辑必须列出所有输入！")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 漏掉sel会导致bug")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("避免锁存器")]),s._v("：")]),s._v(" "),t("ul",[t("li",[s._v("if缺少else分支")]),s._v(" "),t("li",[s._v("case缺少default")]),s._v(" "),t("li",[s._v("解决办法：确保所有路径都有赋值")])])])]),s._v(" "),t("h2",{attrs:{id:"三、-结构化建模是啥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、-结构化建模是啥"}},[s._v("#")]),s._v(" "),t("strong",[s._v("三、 结构化建模是啥？")])]),s._v(" "),t("p",[t("strong",[s._v("核心思想")]),s._v("：像搭积木一样用现成的模块/门电路来构建系统，直接对应硬件层次结构，说白了就是面向对象设计。")]),s._v(" "),t("p",[t("strong",[s._v("类比")]),s._v("：")]),s._v(" "),t("ul",[t("li",[s._v("模块级：用现成的CPU、内存等大组件拼电脑")]),s._v(" "),t("li",[s._v("门级：用与门、或门等小零件搭电路")]),s._v(" "),t("li",[s._v("开关级：用晶体管构建最基础的逻辑门")])]),s._v(" "),t("h4",{attrs:{id:"_2-模块级建模-调用现成模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-模块级建模-调用现成模块"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2. 模块级建模：调用现成模块")])]),s._v(" "),t("h5",{attrs:{id:"_2-1-基本调用方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-基本调用方式"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.1 基本调用方式")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 定义子模块（积木）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AND_gate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 顶层模块（拼积木）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("TOP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" x1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" x2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" z"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 实例化子模块（两种方式）")]),s._v("\n  AND_gate "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" x2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 方式1：按顺序连接")]),s._v("\n  AND_gate "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("b")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("y")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("z"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 方式2：按名称连接（推荐！）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h5",{attrs:{id:"_2-2-参数化模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-参数化模块"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.2 参数化模块")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" #"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("parameter")]),s._v(" WIDTH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Adder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WIDTH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WIDTH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" sum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 调用时修改参数")]),s._v("\nAdder #"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a_8bit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b_8bit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sum_8bit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 8位加法器")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h4",{attrs:{id:"_3-门级建模-调用基本逻辑门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-门级建模-调用基本逻辑门"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3. 门级建模：调用基本逻辑门")])]),s._v(" "),t("h5",{attrs:{id:"_3-1-verilog内置门类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-verilog内置门类型"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3.1 Verilog内置门类型")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("门类型")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("关键字")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("示例")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("与门")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("and")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("and U1(out, a, b);")])])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("或门")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("or")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("or U2(out, a, b, c);")])])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("非门")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("not")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("not U3(out, in);")])])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("三态缓冲器")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("bufif1")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("code",[s._v("bufif1 U4(out, in, ctrl);")])])])])]),s._v(" "),t("h5",{attrs:{id:"_3-2-实际案例-2-4译码器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-实际案例-2-4译码器"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3.2 实际案例：2-4译码器")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("decoder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" en"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" y\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" not_sel0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" not_sel1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 基本门调用")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("not_sel0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("not_sel1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("nand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" en"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" not_sel1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" not_sel0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("nand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" en"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" not_sel1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("nand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" en"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" not_sel0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("nand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" en"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_4-开关级建模-晶体管级描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-开关级建模-晶体管级描述"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4. 开关级建模：晶体管级描述")])]),s._v(" "),t("h5",{attrs:{id:"_4-1-mos开关类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-mos开关类型"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4.1 MOS开关类型")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("类型")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("关键字")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("功能")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("NMOS")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("nmos")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("控制=1时导通")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("PMOS")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("pmos")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("控制=0时导通")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("CMOS")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("cmos")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("双控制（nctrl和pctrl互补）")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("双向开关")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("tran")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[s._v("两端直接连通")])])])]),s._v(" "),t("h5",{attrs:{id:"_4-2-cmos与非门实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-cmos与非门实现"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4.2 CMOS与非门实现")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NAND")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" y\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("supply1")]),s._v(" VDD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 电源")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("supply0")]),s._v(" GND"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 地")]),s._v("\n  \n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pmos")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("P1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" VDD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pmos")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("P2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" VDD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("nmos")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("N1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("nmos")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("N2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" GND"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h4",{attrs:{id:"_5-关键注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-关键注意事项"}},[s._v("#")]),s._v(" "),t("strong",[s._v("5. 关键注意事项")])]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("端口连接陷阱")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 危险！容易接反")]),s._v("\nSub_module "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安全推荐")]),s._v("\nSub_module "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("U1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("port_a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("port_b")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("参数传递优先级")]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("#(参数)")]),s._v("直接传递 > "),t("code",[s._v("defparam")]),s._v("语句")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("开关级设计限制")]),s._v("：")]),s._v(" "),t("ul",[t("li",[s._v("通常只用于ASIC设计")]),s._v(" "),t("li",[s._v("FPGA综合经常忽略开关级细节")])])])]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" "),t("strong",[s._v("总结")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("核心价值")]),s._v("：\n"),t("ul",[t("li",[s._v("模块化设计：提高代码复用性")]),s._v(" "),t("li",[s._v("贴近物理实现：适合性能优化")]),s._v(" "),t("li",[s._v("混合使用：高层用行为级，底层用结构化")])])]),s._v(" "),t("li",[t("strong",[s._v("典型应用")]),s._v("：\n"),t("ul",[t("li",[s._v("数字IP核集成（如调用现成的存储器、PLL）")]),s._v(" "),t("li",[s._v("标准单元库开发")]),s._v(" "),t("li",[s._v("晶体管级电路设计")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);