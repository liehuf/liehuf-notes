(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{375:function(t,s,a){"use strict";a.r(s);var n=a(16),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"verilog-hdl程序设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verilog-hdl程序设计"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Verilog HDL程序设计")])]),t._v(" "),s("h2",{attrs:{id:"一、数据流建模"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、数据流建模"}},[t._v("#")]),t._v(" 一、数据流建模")]),t._v(" "),s("h4",{attrs:{id:"_1-数据流建模是啥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据流建模是啥"}},[t._v("#")]),t._v(" "),s("strong",[t._v("1. 数据流建模是啥？")])]),t._v(" "),s("p",[s("strong",[t._v("核心思想")]),t._v("：用“电线连接”的方式描述电路，直接表示信号如何从输入流动到输出。\n"),s("strong",[t._v("类比")]),t._v("：就像画电路图，用导线把各个元件连起来，比如 "),s("code",[t._v("A和B接个与门，输出Y")]),t._v("。")]),t._v(" "),s("h4",{attrs:{id:"_2-核心工具-连续赋值语句-assign"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-核心工具-连续赋值语句-assign"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2. 核心工具：连续赋值语句（"),s("code",[t._v("assign")]),t._v("）")])]),t._v(" "),s("p",[s("strong",[t._v("作用")]),t._v("：告诉Verilog“这根线（wire）的值等于某个表达式的结果”。")]),t._v(" "),s("h5",{attrs:{id:"_2-1-显式连续赋值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-显式连续赋值"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.1 显式连续赋值")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("语法")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" Y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 先声明线网")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 再用assign赋值")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("带延迟的例子")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("#3")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算A&B后，延迟3个单位时间再赋值给Y")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])]),t._v(" "),s("h5",{attrs:{id:"_2-2-隐式连续赋值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-隐式连续赋值"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.2 隐式连续赋值")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("语法")]),t._v("（声明时直接赋值）：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 声明时直接赋值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" #"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" X"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 带延迟（上升2，下降3，关断4）")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("带驱动强度的例子")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("strong1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("weak0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出1时强驱动，0时弱驱动")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"_3-连续赋值的特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-连续赋值的特点"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3. 连续赋值的特点")])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("目标必须是"),s("code",[t._v("wire")])]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("不能给"),s("code",[t._v("reg")]),t._v("类型赋值！")])]),t._v(" "),s("li",[s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" Y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 正确")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("reg")]),t._v(" Y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误！assign不能用于reg")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("实时更新")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("只要右边的信号（如"),s("code",[t._v("A")]),t._v("或"),s("code",[t._v("B")]),t._v("）变化，立刻重新计算并赋值。")])]),t._v(" "),s("li",[s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// A或B一变，Y立刻更新")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("并行执行")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("所有"),s("code",[t._v("assign")]),t._v("语句同时工作，和代码顺序无关。")])]),t._v(" "),s("li",[s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" Z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" C "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" D"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这两行并行执行")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("延迟是“惯性延时”")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("短于延迟的脉冲会被过滤掉。")])]),t._v(" "),s("li",[s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("#5")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果A的脉冲宽度<5，Y不会变化")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])])])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"_4-实际代码示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-实际代码示例"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4. 实际代码示例")])]),t._v(" "),s("h5",{attrs:{id:"_4-1-显式赋值-带延迟"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-显式赋值-带延迟"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4.1 显式赋值（带延迟）")])]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("example1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("output")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" #"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上升延迟3，下降2，关断4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmodule")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h5",{attrs:{id:"_4-2-隐式赋值-带驱动强度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-隐式赋值-带驱动强度"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4.2 隐式赋值（带驱动强度）")])]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("example2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" M"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("output")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" W"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("strong0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("weak1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" W "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("M "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("M "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" N"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmodule")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("hr"),t._v(" "),s("h4",{attrs:{id:"_5-常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-常见问题"}},[t._v("#")]),t._v(" "),s("strong",[t._v("5. 常见问题")])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("什么时候用连续赋值？")])]),t._v(" "),s("ul",[s("li",[t._v("描述组合逻辑（如与门、加法器、多路选择器）。")]),t._v(" "),s("li",[t._v("不适合时序逻辑（如触发器要用"),s("code",[t._v("always")]),t._v("块）。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("忘记写"),s("code",[t._v("assign")]),t._v("会怎样？")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("直接写 "),s("code",[t._v("wire Y = A;")]),t._v(" 是隐式赋值，合法。")])]),t._v(" "),s("li",[s("p",[t._v("但分开写时漏掉"),s("code",[t._v("assign")]),t._v("会报错：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" Y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误！缺少assign")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("能用在"),s("code",[t._v("always")]),t._v("块里吗？")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("不能！")]),t._v(" "),s("code",[t._v("assign")]),t._v("是并行语句，"),s("code",[t._v("always")]),t._v("是过程块，两者不兼容。")])])])]),t._v(" "),s("h2",{attrs:{id:"二、行为级建模"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、行为级建模"}},[t._v("#")]),t._v(" 二、行为级建模")]),t._v(" "),s("h4",{attrs:{id:"_1-行为级建模是啥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-行为级建模是啥"}},[t._v("#")]),t._v(" "),s("strong",[t._v("1. 行为级建模是啥？")])]),t._v(" "),s("p",[s("strong",[t._v("核心思想")]),t._v('：用"软件思维"描述硬件行为，重点关注电路做什么（功能），而不是具体怎么连线。\n'),s("strong",[t._v("类比")]),t._v("：就像写剧本告诉演员怎么演，而不是设计舞台的每个螺丝钉。")]),t._v(" "),s("h4",{attrs:{id:"_2-核心工具-过程块-always-initial"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-核心工具-过程块-always-initial"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2. 核心工具：过程块（always/initial）")])]),t._v(" "),s("h5",{attrs:{id:"_2-1-initial块-一次性剧本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-initial块-一次性剧本"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.1 initial块 - 一次性剧本")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("特点")]),t._v("：只执行一次，主要用于仿真初始化。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("示例")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("initial")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("begin")]),t._v("\n  clk "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始时钟为0")]),t._v("\n  reset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 复位信号置1")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("#50")]),t._v(" reset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 50单位时间后取消复位")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])])]),t._v(" "),s("h5",{attrs:{id:"_2-2-always块-循环剧本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-always块-循环剧本"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.2 always块 - 循环剧本")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("特点")]),t._v("：不断重复执行，是硬件行为的核心描述方式。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("敏感列表")]),t._v("：决定何时触发：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组合逻辑：输入变化就执行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("always @")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 时序逻辑：时钟边沿触发")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("always @")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("posedge")]),t._v(" clk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])])]),t._v(" "),s("h4",{attrs:{id:"_3-过程赋值-硬件界的-变量赋值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-过程赋值-硬件界的-变量赋值"}},[t._v("#")]),t._v(" "),s("strong",[t._v('3. 过程赋值：硬件界的"变量赋值"')])]),t._v(" "),s("h5",{attrs:{id:"_3-1-阻塞赋值-顺序执行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-阻塞赋值-顺序执行"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3.1 阻塞赋值（=） - 顺序执行")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("特点")]),t._v("：像普通编程语言，一步完成计算和赋值。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("适用场景")]),t._v("：组合逻辑设计。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("示例")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token important"}},[t._v("always @")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("begin")]),t._v("\n  temp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 立即计算并赋值")]),t._v("\n  y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" temp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用更新后的temp")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])])]),t._v(" "),s("h5",{attrs:{id:"_3-2-非阻塞赋值-并行执行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-非阻塞赋值-并行执行"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3.2 非阻塞赋值（<=） - 并行执行")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("特点")]),t._v("：先计算右边，等时间步结束才统一赋值。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("适用场景")]),t._v("：时序逻辑设计（触发器）。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("示例")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token important"}},[t._v("always @")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("posedge")]),t._v(" clk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("begin")]),t._v("\n  q1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这三个赋值")]),t._v("\n  q2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" q1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是同时进行的")]),t._v("\n  q3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" q2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构成移位寄存器")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"_4-流程控制-硬件版的-if-else"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-流程控制-硬件版的-if-else"}},[t._v("#")]),t._v(" "),s("strong",[t._v('4. 流程控制：硬件版的"if-else"')])]),t._v(" "),s("h5",{attrs:{id:"_4-1-if-else语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-if-else语句"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4.1 if-else语句")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("特点")]),t._v("：带优先级的选择结构。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("示例")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token important"}},[t._v("always @")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sel "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("begin")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1'b1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sel为1选a")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" \n    y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 否则选b")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])])])]),t._v(" "),s("h5",{attrs:{id:"_4-2-case语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-case语句"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4.2 case语句")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("特点")]),t._v("：多路分支，无优先级。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("特殊形式")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("casez")]),t._v("：忽略z(高阻)和?（无关位）")]),t._v(" "),s("li",[s("code",[t._v("casex")]),t._v("：忽略x(未知)、z和?")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("示例")]),t._v("（BCD译码器）：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("case")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4'd0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" seg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7'b1111110")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示数字0")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4'd1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" seg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7'b0110000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示数字1")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" seg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7'bx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 其他情况输出未知")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endcase")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"_5-循环语句-硬件也能-循环"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-循环语句-硬件也能-循环"}},[t._v("#")]),t._v(" "),s("strong",[t._v('5. 循环语句：硬件也能"循环"？')])]),t._v(" "),s("h5",{attrs:{id:"_5-1-for循环-可综合的循环"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-for循环-可综合的循环"}},[t._v("#")]),t._v(" "),s("strong",[t._v("5.1 for循环 - 可综合的循环")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("特点")]),t._v("：编译时会展开为硬件结构。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("示例")]),t._v("（位反转）：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  rev"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生成8个并行的连线")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])])]),t._v(" "),s("h5",{attrs:{id:"_5-2-其他循环-仿真用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-其他循环-仿真用"}},[t._v("#")]),t._v(" "),s("strong",[t._v("5.2 其他循环（仿真用）")])]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("forever")]),t._v("：无限循环（如生成时钟）")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("initial")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("forever")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("#10")]),t._v(" clk "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("clk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 每10ns翻转")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("repeat")]),t._v("：固定次数循环")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("repeat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("posedge")]),t._v(" clk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等待5个时钟周期")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"_6-关键注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-关键注意事项"}},[t._v("#")]),t._v(" "),s("strong",[t._v("6. 关键注意事项")])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("reg不一定生成寄存器")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("在always块中用"),s("code",[t._v("=")]),t._v("赋值可能生成组合逻辑")]),t._v(" "),s("li",[t._v("只有时钟触发的"),s("code",[t._v("<=")]),t._v("才会生成触发器")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("敏感列表要完整")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组合逻辑必须列出所有输入！")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("always @")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 漏掉sel会导致bug")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("避免锁存器")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("if缺少else分支")]),t._v(" "),s("li",[t._v("case缺少default")]),t._v(" "),s("li",[t._v("解决办法：确保所有路径都有赋值")])])])]),t._v(" "),s("h2",{attrs:{id:"三、-结构化建模是啥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、-结构化建模是啥"}},[t._v("#")]),t._v(" "),s("strong",[t._v("三、 结构化建模是啥？")])]),t._v(" "),s("p",[s("strong",[t._v("核心思想")]),t._v("：像搭积木一样用现成的模块/门电路来构建系统，直接对应硬件层次结构，说白了就是面向对象设计。")]),t._v(" "),s("p",[s("strong",[t._v("类比")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("模块级：用现成的CPU、内存等大组件拼电脑")]),t._v(" "),s("li",[t._v("门级：用与门、或门等小零件搭电路")]),t._v(" "),s("li",[t._v("开关级：用晶体管构建最基础的逻辑门")])]),t._v(" "),s("h4",{attrs:{id:"_2-模块级建模-调用现成模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-模块级建模-调用现成模块"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2. 模块级建模：调用现成模块")])]),t._v(" "),s("h5",{attrs:{id:"_2-1-基本调用方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-基本调用方式"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.1 基本调用方式")])]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义子模块（积木）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AND_gate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("output")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmodule")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 顶层模块（拼积木）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TOP")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" x1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("output")]),t._v(" z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 实例化子模块（两种方式）")]),t._v("\n  AND_gate "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方式1：按顺序连接")]),t._v("\n  AND_gate "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("y")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方式2：按名称连接（推荐！）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmodule")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h5",{attrs:{id:"_2-2-参数化模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-参数化模块"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2.2 参数化模块")])]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" #"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("parameter")]),t._v(" WIDTH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Adder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WIDTH"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("output")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("WIDTH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" sum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assign")]),t._v(" sum "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmodule")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用时修改参数")]),t._v("\nAdder #"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a_8bit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b_8bit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sum_8bit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 8位加法器")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h4",{attrs:{id:"_3-门级建模-调用基本逻辑门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-门级建模-调用基本逻辑门"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3. 门级建模：调用基本逻辑门")])]),t._v(" "),s("h5",{attrs:{id:"_3-1-verilog内置门类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-verilog内置门类型"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3.1 Verilog内置门类型")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("门类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("关键字")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("示例")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("与门")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("and")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("and U1(out, a, b);")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("或门")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("or")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("or U2(out, a, b, c);")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("非门")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("not")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("not U3(out, in);")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("三态缓冲器")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("bufif1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("bufif1 U4(out, in, ctrl);")])])])])]),t._v(" "),s("h5",{attrs:{id:"_3-2-实际案例-2-4译码器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-实际案例-2-4译码器"}},[t._v("#")]),t._v(" "),s("strong",[t._v("3.2 实际案例：2-4译码器")])]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("decoder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("output")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" y\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("wire")]),t._v(" not_sel0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" not_sel1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基本门调用")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("not_sel0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("not_sel1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nand")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" not_sel1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" not_sel0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nand")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" not_sel1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nand")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" not_sel0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nand")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmodule")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("hr"),t._v(" "),s("h4",{attrs:{id:"_4-开关级建模-晶体管级描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-开关级建模-晶体管级描述"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4. 开关级建模：晶体管级描述")])]),t._v(" "),s("h5",{attrs:{id:"_4-1-mos开关类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-mos开关类型"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4.1 MOS开关类型")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("关键字")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("功能")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("NMOS")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("nmos")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("控制=1时导通")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("PMOS")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("pmos")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("控制=0时导通")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("CMOS")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("cmos")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("双控制（nctrl和pctrl互补）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("双向开关")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("tran")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("两端直接连通")])])])]),t._v(" "),s("h5",{attrs:{id:"_4-2-cmos与非门实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-cmos与非门实现"}},[t._v("#")]),t._v(" "),s("strong",[t._v("4.2 CMOS与非门实现")])]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NAND")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("input")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("output")]),t._v(" y\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("supply1")]),t._v(" VDD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 电源")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("supply0")]),t._v(" GND"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 地")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pmos")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("P1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" VDD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pmos")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("P2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" VDD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nmos")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("N1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nmos")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("N2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" GND"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("endmodule")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h4",{attrs:{id:"_5-关键注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-关键注意事项"}},[t._v("#")]),t._v(" "),s("strong",[t._v("5. 关键注意事项")])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("端口连接陷阱")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-verilog line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-verilog"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 危险！容易接反")]),t._v("\nSub_module "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 安全推荐")]),t._v("\nSub_module "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("U1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("port_a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("port_b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("参数传递优先级")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("#(参数)")]),t._v("直接传递 > "),s("code",[t._v("defparam")]),t._v("语句")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("开关级设计限制")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("通常只用于ASIC设计")]),t._v(" "),s("li",[t._v("FPGA综合经常忽略开关级细节")])])])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" "),s("strong",[t._v("总结")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("核心价值")]),t._v("：\n"),s("ul",[s("li",[t._v("模块化设计：提高代码复用性")]),t._v(" "),s("li",[t._v("贴近物理实现：适合性能优化")]),t._v(" "),s("li",[t._v("混合使用：高层用行为级，底层用结构化")])])]),t._v(" "),s("li",[s("strong",[t._v("典型应用")]),t._v("：\n"),s("ul",[s("li",[t._v("数字IP核集成（如调用现成的存储器、PLL）")]),t._v(" "),s("li",[t._v("标准单元库开发")]),t._v(" "),s("li",[t._v("晶体管级电路设计")])])])]),t._v(" "),s("h2",{attrs:{id:"三种建模方式对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三种建模方式对比"}},[t._v("#")]),t._v(" ** 三种建模方式对比**")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("特性")])]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("结构化建模")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("行为级建模")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("数据流建模")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("抽象级别")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("中等（门/模块级）")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("高（算法级）")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("中（信号流级）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("主要语句")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("模块/门实例化")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("always/initial")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("assign")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("可读性")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("直观但繁琐")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("最易读")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("中等")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("应用场景")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("IP模块集成、标准单元设计")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("复杂逻辑/状态机")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("简单组合逻辑")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("硬件对应")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("直接映射")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("依赖综合工具")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("直接映射")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);