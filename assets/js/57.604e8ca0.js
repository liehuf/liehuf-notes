(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{421:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("C语言编译的过程一般分为四个步骤：")]),s._v(" "),t("ul",[t("li",[s._v("预处理(Preprocessing)")]),s._v(" "),t("li",[s._v("编译(Compliation)")]),s._v(" "),t("li",[s._v("汇编(Assembly)")]),s._v(" "),t("li",[s._v("链接(Linking)")])]),s._v(" "),t("h2",{attrs:{id:"_1、预处理-preprocessing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、预处理-preprocessing"}},[s._v("#")]),s._v(" 1、预处理(Preprocessing)")]),s._v(" "),t("p",[s._v("如下是一个最简单的C语言代码:")]),s._v(" "),t("div",{staticClass:"language-C line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio>")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("本程序中，"),t("code",[s._v("#include <stdio.h>")]),s._v("是一个预处理指令，告诉编译器要引入标准输入输出的头文件")]),s._v(" "),t("li",[s._v("预处理器会处理这些指令，包括替换所有的宏定义、处理文件包含（#include）、处理条件编译指令("),t("code",[s._v("#if")]),s._v(", #else,"),t("code",[s._v("#endif")]),s._v(")")])]),s._v(" "),t("p",[s._v("预处理之后，会把"),t("code",[s._v("stdio.h")]),s._v("的内容插入到源代码里面，文件的后缀为.i，准备进行编译。")]),s._v(" "),t("h2",{attrs:{id:"_2、编译-complilation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、编译-complilation"}},[s._v("#")]),s._v(" 2、编译(Complilation)")]),s._v(" "),t("p",[s._v("编译器将预处理后的源代码转换成汇编语言代码。其主要任务是：")]),s._v(" "),t("ul",[t("li",[s._v("语法分析：检查C语言源代码的语法规则")]),s._v(" "),t("li",[s._v("语义分析：变量的使用、数据类型")]),s._v(" "),t("li",[s._v("优化：尽可能提高程序的效率")])]),s._v(" "),t("p",[s._v("本阶段后，代码变成如下的形式，真·精简版汇编，以.s位后缀：")]),s._v(" "),t("div",{staticClass:"language-assembly line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("MOV R0, #0\nMOV R1, #1\n...\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"_3、汇编-assembly"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、汇编-assembly"}},[s._v("#")]),s._v(" 3、汇编(Assembly)")]),s._v(" "),t("p",[s._v("将编译过后的机器码转换成由"),t("code",[s._v("0")]),s._v("和"),t("code",[s._v("1")]),s._v("构成的机器码，也可叫做目标文件，通常以"),t("code",[s._v(".o")]),s._v("或者"),t("code",[s._v(".obj")]),s._v("结尾，这个文件包含了计算机能够直接执行的机器代码。")]),s._v(" "),t("h2",{attrs:{id:"_4、链接-linking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、链接-linking"}},[s._v("#")]),s._v(" 4、链接(Linking)")]),s._v(" "),t("p",[s._v("连接器负责将程序中引用的外部库和其他源文件链接到目标文件中。比如，"),t("code",[s._v("printf")]),s._v("是定义在"),t("code",[s._v("stdio")]),s._v("库中的，而编译过后的目标文件没有，因此连接器会：")]),s._v(" "),t("ul",[t("li",[s._v("查找库函数代码")]),s._v(" "),t("li",[s._v("将多个目标文件连接成一个完整的可执行文件")]),s._v(" "),t("li",[s._v("处理符号引用\n最后，形成一个可执行文件，一般是"),t("code",[s._v("a.out")]),s._v("或"),t("code",[s._v("a.exe")]),s._v(",这时候，代码就可以运行了，黑色终端里面就"),t("code",[s._v("printf")]),s._v("出了"),t("code",[s._v("Hello World")]),s._v("。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);