(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{372:function(t,s,a){"use strict";a.r(s);var n=a(16),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"摄像头的基本素养-画面📸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#摄像头的基本素养-画面📸"}},[t._v("#")]),t._v(" 摄像头的基本素养-画面📸")]),t._v(" "),s("h2",{attrs:{id:"_1-ide-模式-画面拉满💻"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ide-模式-画面拉满💻"}},[t._v("#")]),t._v(" 1. IDE 模式，画面拉满💻")]),t._v(" "),s("p",[t._v("别把“图像识别”听得太玄乎，其实万变不离其宗——"),s("strong",[t._v("先得把画面搞出来")]),t._v("。本篇就从最基本的显示开始，不搞 AI，不加滤镜，先把摄像头拍的画面，稳稳当当地在 "),s("strong",[t._v("IDE窗口里显示出来")]),t._v("。")]),t._v(" "),s("p",[t._v("默认设备？照旧，"),s("strong",[t._v("GC2093")]),t._v(" 摄像头，CSI2 接口，全程板载，照搬即可。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-基础代码-开机即拍📷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-基础代码-开机即拍📷"}},[t._v("#")]),t._v(" 2. 基础代码：开机即拍📷")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" urandom\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" media"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Display\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" media"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("media "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" MediaManager\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" image\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. 设置画布分辨率，并按 16 对齐防止花屏")]),t._v("\nWIDTH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HEIGHT "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1920")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1080")]),t._v("\nWIDTH "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("WIDTH "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. 初始化显示与画布")]),t._v("\nimg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("WIDTH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HEIGHT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ARGB8888"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nDisplay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Display"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("VIRT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("WIDTH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("HEIGHT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fps"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nMediaManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3. 循环绘制随机彩字")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clear"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" urandom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getrandbits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" WIDTH\n            y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" urandom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getrandbits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" HEIGHT\n            color "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("tuple")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urandom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getrandbits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" _ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urandom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getrandbits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n            img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw_string_advanced"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你好K230！"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" color"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        Display"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("show_image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" Exception "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"出错啦："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    Display"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deinit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    MediaManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deinit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep_ms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br")])]),s("h2",{attrs:{id:"_3-函数知识点精华📚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-函数知识点精华📚"}},[t._v("#")]),t._v(" 3. 函数知识点精华📚")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("用法说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("image.Image(w, h, fmt)")])]),t._v(" "),s("td",[t._v("创建一块画布，"),s("code",[t._v("ARGB8888")]),t._v(" 支持彩色透明度，能画图能写字")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Display.init(...)")])]),t._v(" "),s("td",[t._v("初始化显示设备，这里用的是 IDE 缓冲区模式")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Display.show_image(img)")])]),t._v(" "),s("td",[t._v("把图像内容刷到 IDE 显示窗口里")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("img.clear()")])]),t._v(" "),s("td",[t._v("每轮刷新前要清空画布，否则会叠图")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("draw_string_advanced()")])]),t._v(" "),s("td",[t._v("支持中文的文字绘制函数，字体大小、颜色都可调")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("urandom.getrandbits(n)")])]),t._v(" "),s("td",[t._v("随机生成一个 n 位整数，用于随机坐标/颜色/字体大小")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("MediaManager.init()")])]),t._v(" "),s("td",[t._v("注册媒体系统，图像绘制和显示模块都需要")])])])]),t._v(" "),s("p",[s("strong",[t._v("为了避免杂乱，这里不加参数，可以去官网查看API文档，非常详细")])]),t._v(" "),s("h2",{attrs:{id:"_4-踩坑提示⚠️"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-踩坑提示⚠️"}},[t._v("#")]),t._v(" 4. 踩坑提示⚠️")]),t._v(" "),s("ul",[s("li",[t._v("分辨率没对齐，画面直接花掉，用 "),s("code",[t._v("(宽度 + 15) // 16 * 16")]),t._v(" 这招最稳。")]),t._v(" "),s("li",[s("code",[t._v("Display.init()")]),t._v(" 不设置 "),s("code",[t._v("fps")]),t._v(" 有时不刷图，建议默认填个 60。")]),t._v(" "),s("li",[t._v("如果你看到什么都没出来，"),s("strong",[t._v("检查是否运行在 IDE 下，别整错平台")]),t._v("。")]),t._v(" "),s("li",[t._v("想换 LCD/HDMI？只要换掉 "),s("code",[t._v("Display.VIRT")]),t._v(" 和尺寸参数，逻辑通用。")])]),t._v(" "),s("h2",{attrs:{id:"_5-后续方向🧭"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-后续方向🧭"}},[t._v("#")]),t._v(" 5. 后续方向🧭")]),t._v(" "),s("p",[t._v("画面搞定之后，你就可以：")]),t._v(" "),s("ul",[s("li",[t._v("接入摄像头图像，替代“喷字”的显示内容；")]),t._v(" "),s("li",[t._v("添加按钮交互、图片播放；")]),t._v(" "),s("li",[t._v("作为 AI 识别的显示输出前端。")])]),t._v(" "),s("p",[s("strong",[t._v("一句话：搞清楚显示，万物皆可视。")])]),t._v(" "),s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),s("ul",[s("li",[t._v("📚 "),s("a",{attrs:{href:"https://wiki.lckfb.com/zh-hans/lushan-pi-k230/image-recog/display.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("图像显示文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("📷 "),s("a",{attrs:{href:"https://wiki.lckfb.com/zh-hans/lushan-pi-k230/image-recog/use-sensor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("K230 摄像头使用说明"),s("OutboundLink")],1)])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"免责声明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#免责声明"}},[t._v("#")]),t._v(" 免责声明")]),t._v(" "),s("p",[t._v("本文档及所有内容（包括文字、图片、代码等）均为作者基于嘉立创庐山派K230开发板公开资料和个人实践经验整理分享，仅供学习和技术交流使用。")]),t._v(" "),s("p",[t._v("涉及的品牌、商标、图片与相关资源均归嘉立创官方所有，本文无任何商业意图或代理关系，内容不构成任何形式的官方承诺或保证。")]),t._v(" "),s("p",[t._v("用户应确保在合法合规的前提下使用相关资源。如有版权问题，请联系作者或嘉立创官方处理。")])])}),[],!1,null,null,null);s.default=r.exports}}]);