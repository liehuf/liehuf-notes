(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{373:function(s,t,a){"use strict";a.r(t);var n=a(16),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("hr"),s._v(" "),t("h1",{attrs:{id:"数据选择器-多路选择器-multiplexer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据选择器-多路选择器-multiplexer"}},[s._v("#")]),s._v(" "),t("strong",[s._v("数据选择器：多路选择器（Multiplexer）")])]),s._v(" "),t("h2",{attrs:{id:"_1-原理简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-原理简介"}},[s._v("#")]),s._v(" "),t("strong",[s._v("1. 原理简介")])]),s._v(" "),t("p",[t("strong",[s._v("功能")]),s._v("：从多个输入信号中，根据选择信号的值，输出其中一个。"),t("br"),s._v("\n在数字电路中，数据选择器常用于"),t("strong",[s._v("数据通路控制")]),s._v("，像个“电子开关”。")]),s._v(" "),t("p",[s._v("最常见的多路选择器有：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("2选1")]),s._v("：两个输入、一个选择位")]),s._v(" "),t("li",[t("strong",[s._v("4选1")]),s._v("：四个输入、两个选择位")])]),s._v(" "),t("p",[s._v("它的工作原理就是：")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("选择线控制“哪个输入”可以通过，输出到Y端口。")])])]),s._v(" "),t("p",[s._v("形式表达式一般如下：")]),s._v(" "),t("p",[t("strong",[s._v("Y = I[sel]")])]),s._v(" "),t("p",[s._v("当然 Verilog 不支持数组直接这么写组合逻辑，我们会用 "),t("code",[s._v("?:")]),s._v("、"),t("code",[s._v("case")]),s._v(" 等手段实现。")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"_2-示例一-2选1选择器-使用条件运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-示例一-2选1选择器-使用条件运算符"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2. 示例一：2选1选择器（使用条件运算符 "),t("code",[s._v("?:")]),s._v("）")])]),s._v(" "),t("h3",{attrs:{id:"结构说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结构说明"}},[s._v("#")]),s._v(" "),t("strong",[s._v("结构说明")])]),s._v(" "),t("ul",[t("li",[s._v("输入信号："),t("code",[s._v("A")]),s._v(", "),t("code",[s._v("B")])]),s._v(" "),t("li",[s._v("选择信号："),t("code",[s._v("sel")]),s._v("（1位）")]),s._v(" "),t("li",[s._v("输出信号："),t("code",[s._v("Y")])])]),s._v(" "),t("p",[s._v("当 "),t("code",[s._v("sel=0")]),s._v("，输出为 "),t("code",[s._v("A")]),s._v("；"),t("br"),s._v("\n当 "),t("code",[s._v("sel=1")]),s._v("，输出为 "),t("code",[s._v("B")]),s._v("。")]),s._v(" "),t("p",[s._v("就像：")]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[s._v("Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" A "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"完整的verilog代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完整的verilog代码"}},[s._v("#")]),s._v(" "),t("strong",[s._v("完整的Verilog代码")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" mux2to1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" Y\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("assign")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" B "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sel=1输出B，sel=0输出A")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[s._v("#")]),s._v(" "),t("strong",[s._v("说明")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("?:")]),s._v(" 是三目运算符，也叫条件运算符，是写组合逻辑非常常见的一种方式。")]),s._v(" "),t("li",[s._v("它简洁、直观，适合 2选1 或多个嵌套判断的场景。")])]),s._v(" "),t("h2",{attrs:{id:"_3-示例二-4选1选择器-使用-case-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-示例二-4选1选择器-使用-case-语句"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3. 示例二：4选1选择器（使用 case 语句）")])]),s._v(" "),t("h3",{attrs:{id:"结构说明-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结构说明-2"}},[s._v("#")]),s._v(" "),t("strong",[s._v("结构说明")])]),s._v(" "),t("ul",[t("li",[s._v("输入信号："),t("code",[s._v("I0, I1, I2, I3")]),s._v("（可以打包成一个 4 位向量）")]),s._v(" "),t("li",[s._v("选择信号："),t("code",[s._v("sel[1:0]")]),s._v("（2位）")]),s._v(" "),t("li",[s._v("输出信号："),t("code",[s._v("Y")])])]),s._v(" "),t("p",[s._v("选择信号 "),t("code",[s._v("sel")]),s._v(" 决定输出哪一路：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("sel")]),s._v(" "),t("th",[s._v("Y输出")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("00")]),s._v(" "),t("td",[s._v("I0")])]),s._v(" "),t("tr",[t("td",[s._v("01")]),s._v(" "),t("td",[s._v("I1")])]),s._v(" "),t("tr",[t("td",[s._v("10")]),s._v(" "),t("td",[s._v("I2")])]),s._v(" "),t("tr",[t("td",[s._v("11")]),s._v(" "),t("td",[s._v("I3")])])])]),s._v(" "),t("h3",{attrs:{id:"verilog代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verilog代码"}},[s._v("#")]),s._v(" "),t("strong",[s._v("Verilog代码")])]),s._v(" "),t("div",{staticClass:"language-verilog line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-verilog"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("module")]),s._v(" mux4to1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" I"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 四个输入 I[3:0]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("input")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("wire")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2位选择信号")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("output")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("reg")]),s._v(" Y              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用 reg，因为在 always 块中赋值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("always @")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2'b00")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" I"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2'b01")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" I"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2'b10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" I"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2'b11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" I"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1'b0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 默认值防止综合警告")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endcase")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endmodule")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"说明-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#说明-2"}},[s._v("#")]),s._v(" "),t("strong",[s._v("说明")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("case")]),s._v(" 语句适用于选择分支比较多的场景。")]),s._v(" "),t("li",[s._v("记得给 "),t("code",[s._v("Y")]),s._v(" 写默认值，避免综合时 latch 错误。")]),s._v(" "),t("li",[s._v("这种写法比条件运算符更直观清晰，适合复杂选择器。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);