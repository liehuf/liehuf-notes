(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{383:function(t,s,a){"use strict";a.r(s);var i=a(2),e=Object(i.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("本文用于记录我在训练神经网络过程中，对常用激活函数的理解。\n本篇聚焦于目前使用最广泛的一种激活函数 —— ReLU。")]),t._v(" "),s("h2",{attrs:{id:"一、relu-激活函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、relu-激活函数"}},[t._v("#")]),t._v(" 一、ReLU 激活函数")]),t._v(" "),s("h3",{attrs:{id:"_1-基本定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-基本定义"}},[t._v("#")]),t._v(" 1. 基本定义")]),t._v(" "),s("p",[t._v("ReLU 的全称是 "),s("strong",[t._v("线性修正单元（Rectified Linear Unit）")]),t._v("。")]),t._v(" "),s("p",[t._v("其数学定义为：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mtext",[t._v("ReLU")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",[t._v("=")]),s("mi",[t._v("max")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mn",[t._v("0")]),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\text{ReLU}(x) = \\max(0, x)\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("ReLU")])]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mop"},[t._v("max")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("0")]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")])])])])])])],1),s("p",[t._v("从几何角度看，在二维平面直角坐标系中：")]),t._v(" "),s("ul",[s("li",[t._v("当 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("x")]),s("mo",[t._v("≤")]),s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x \\le 0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.7719400000000001em","vertical-align":"-0.13597em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("≤")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 时，函数输出恒为 0")],1),t._v(" "),s("li",[t._v("当 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("x")]),s("mo",[t._v(">")]),s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x > 0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.5782em","vertical-align":"-0.0391em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v(">")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 时，函数表现为一条斜率为 1 的直线 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("y")]),s("mo",[t._v("=")]),s("mi",[t._v("x")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("y = x")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])])],1)]),t._v(" "),s("p",[t._v("也可以理解为："),s("br"),t._v(" "),s("strong",[t._v("y 轴左侧被“压扁”为 0，右侧保持线性增长。")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_2-梯度性质"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-梯度性质"}},[t._v("#")]),t._v(" 2. 梯度性质")]),t._v(" "),s("p",[t._v("ReLU 在不同区间上的导数为：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mfrac",[s("mi",[t._v("d")]),s("mrow",[s("mi",[t._v("d")]),s("mi",[t._v("x")])],1)],1),s("mtext"),s("mtext",[t._v("ReLU")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",[t._v("=")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("{")]),s("mtable",{attrs:{rowspacing:"0.3599999999999999em",columnalign:"left left",columnspacing:"1em"}},[s("mtr",[s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mn",[t._v("1")]),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1)],1),s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mi",[t._v("x")]),s("mo",[t._v(">")]),s("mn",[t._v("0")])],1)],1)],1)],1),s("mtr",[s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mn",[t._v("0")]),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1)],1),s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mi",[t._v("x")]),s("mo",[t._v("≤")]),s("mn",[t._v("0")])],1)],1)],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\frac{d}{dx}\\,\\text{ReLU}(x) =\n\\begin{cases}\n1, & x > 0 \\\\\n0, & x \\le 0\n\\end{cases}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.05744em","vertical-align":"-0.686em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[s("span",{staticStyle:{top:"-2.314em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("d")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("d")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("ReLU")])]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"3.0000299999999998em","vertical-align":"-1.25003em"}}),s("span",{staticClass:"minner"},[s("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size4"},[t._v("{")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mtable"},[s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.69em"}},[s("span",{staticStyle:{top:"-3.69em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticStyle:{top:"-2.25em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("0")]),s("span",{staticClass:"mpunct"},[t._v(",")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.19em"}},[s("span")])])])]),s("span",{staticClass:"arraycolsep",staticStyle:{width:"1em"}}),s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.69em"}},[s("span",{staticStyle:{top:"-3.69em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v(">")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mord"},[t._v("0")])])]),s("span",{staticStyle:{top:"-2.25em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("≤")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.19em"}},[s("span")])])])])])]),s("span",{staticClass:"mclose nulldelimiter"})])])])])])])],1),s("p",[t._v("这一性质带来两个直接结果：")]),t._v(" "),s("ul",[s("li",[t._v("当 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("x")]),s("mo",[t._v(">")]),s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x > 0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.5782em","vertical-align":"-0.0391em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v(">")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 时，梯度恒为 1"),s("br"),t._v("\n→ 不会出现梯度消失")],1),t._v(" "),s("li",[t._v("梯度不会大于 1"),s("br"),t._v("\n→ 不容易引发梯度爆炸")])]),t._v(" "),s("p",[t._v("因此，在深层网络中，ReLU 相比 sigmoid 或 tanh 更容易训练。")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_3-反向传播中的作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-反向传播中的作用"}},[t._v("#")]),t._v(" 3. 反向传播中的作用")]),t._v(" "),s("p",[t._v("在反向传播过程中，ReLU 的梯度行为非常简单：")]),t._v(" "),s("ul",[s("li",[t._v("若前向传播时该神经元输出为正，则梯度可以正常向后传递")]),t._v(" "),s("li",[t._v("若前向传播时输出为 0，则梯度被直接截断")])]),t._v(" "),s("p",[t._v("从实现角度看，ReLU 本质上只是一个"),s("strong",[t._v("逐元素的条件判断操作")]),t._v("。")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_4-relu-的线性与非线性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-relu-的线性与非线性"}},[t._v("#")]),t._v(" 4. ReLU 的线性与非线性")]),t._v(" "),s("p",[t._v("虽然 ReLU 在每个区间内都是线性的，但它在整体上是一个"),s("strong",[t._v("非线性函数")]),t._v("。")]),t._v(" "),s("p",[t._v("其非线性体现在：")]),t._v(" "),s("blockquote",[s("p",[t._v("网络对输入空间进行了基于条件的分段线性映射。")])]),t._v(" "),s("p",[t._v("不同神经元在不同输入条件下被激活，使得整个网络可以拟合复杂的非线性关系。")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"_5-激活-的直观含义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-激活-的直观含义"}},[t._v("#")]),t._v(" 5. “激活”的直观含义")]),t._v(" "),s("p",[t._v("从更直观的角度理解，ReLU 的“激活”可以看作一种"),s("strong",[t._v("信息门控机制")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("输出为 0：该神经元在当前输入下"),s("strong",[t._v("不参与计算")])]),t._v(" "),s("li",[t._v("输出大于 0：该神经元被"),s("strong",[t._v("激活并参与后续计算")])])]),t._v(" "),s("p",[t._v("因此，ReLU 等价于让神经元在“参与计算 / 不参与计算”之间做出选择。")]),t._v(" "),s("hr")])}),[],!1,null,null,null);s.default=e.exports}}]);