(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{394:function(t,s,a){"use strict";a.r(s);var i=a(0),l=Object(i.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"多层感知机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多层感知机"}},[t._v("#")]),t._v(" 多层感知机")]),t._v(" "),s("h2",{attrs:{id:"隐藏层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#隐藏层"}},[t._v("#")]),t._v(" 隐藏层")]),t._v(" "),s("p",[t._v("线性模型可能会出错，因此，我们需要在模型中加入隐藏层来增强模型与数据集的拟合。")]),t._v(" "),s("p",[t._v("最简单的方法是将许多的全连接层堆叠在一起，每一层都输出到上面的层，直到生成最后的输出，可以把前 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("L")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L -1")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("L")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 层看作表示，把最后一层看作线性预测器，这种架构通常称为多层感知机（multiayer perceptron),通常缩写为 MLP，如下图所示：")],1),t._v(" "),s("p",[s("img",{attrs:{src:"/img/Dp/mlp.svg",alt:"mlp"}})]),t._v(" "),s("h2",{attrs:{id:"激活函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#激活函数"}},[t._v("#")]),t._v(" 激活函数")]),t._v(" "),s("p",[t._v("激活函数（activation function）通过计算加权和并加上偏置来确定神经元是否应该被激活， 它们将输入信号转换为输出的可微运算。 大多数激活函数都是非线性的。")]),t._v(" "),s("h3",{attrs:{id:"relu函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#relu函数"}},[t._v("#")]),t._v(" ReLU函数")]),t._v(" "),s("p",[s("em",[t._v("修正线性单元")]),t._v("（Rectified linear unit，"),s("em",[t._v("ReLU")]),t._v("）")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mtable",{attrs:{width:"100%"}},[s("mtr",[s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mrow",[s("mi",[t._v("R")]),s("mi",[t._v("e")]),s("mi",[t._v("L")]),s("mi",[t._v("U")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",[t._v("=")]),s("mi",[t._v("max")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("mn",[t._v("0")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mtext",[t._v("(Eq. 3.1)")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\nReLU(x) = \\max(x, 0) \\tag{Eq. 3.1}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),s("span",{staticClass:"mord mathdefault"},[t._v("e")]),s("span",{staticClass:"mord mathdefault"},[t._v("L")]),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mop"},[t._v("max")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mord"},[t._v("0")]),s("span",{staticClass:"mclose"},[t._v(")")])]),s("span",{staticClass:"tag"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("E")]),s("span",{staticClass:"mord"},[t._v("q")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"}),s("span",{staticClass:"mord"},[t._v("3")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"},[t._v("1")])]),s("span",{staticClass:"mord"},[t._v(")")])])])])])])])],1),s("p",[t._v("ReLU函数通过将相应的活性值设为0，仅保留正元素并丢弃所有负元素，图像图下\n"),s("img",{attrs:{src:"/img/Dp/output_mlp_76f463_21_0.svg",alt:"output_mlp_76f463_21_0"}}),t._v("\n当输入为负时，ReLU函数的导数为0，而当输入为正时，ReLU函数的导数为1")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/Dp/output_mlp_76f463_36_0.svg",alt:"output_mlp_76f463_36_0"}})]),t._v(" "),s("h3",{attrs:{id:"sigmoid函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sigmoid函数"}},[t._v("#")]),t._v(" sigmoid函数")]),t._v(" "),s("p",[t._v("对于一个定义域在 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",{attrs:{mathvariant:"double-struck"}},[t._v("R")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathbb{R}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.68889em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbb"},[t._v("R")])])])])])]),t._v(" 中的输入， "),s("strong",[t._v("sigmoid函数")]),t._v("将输入变换为区间(0, 1)上的输出。 因此，sigmoid通常称为挤压函数（squashing function）： 它将范围（-inf, inf）中的任意输入压缩到区间（0, 1）中的某个值：")],1),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mtable",{attrs:{width:"100%"}},[s("mtr",[s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mrow",[s("mtext",[t._v("sigmoid")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",[t._v("=")]),s("mfrac",[s("mn",[t._v("1")]),s("mrow",[s("mn",[t._v("1")]),s("mo",[t._v("+")]),s("mi",[t._v("exp")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mo",[t._v("−")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1),s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mtext",[t._v("(Eq. 3.2)")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\text{sigmoid}(x) = \\frac{1}{1 + \\exp(-x)} \\tag{Eq. 3.2}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("sigmoid")])]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.25744em","vertical-align":"-0.936em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[s("span",{staticStyle:{top:"-2.314em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mop"},[t._v("exp")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("1")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})])]),s("span",{staticClass:"tag"},[s("span",{staticClass:"strut",staticStyle:{height:"2.25744em","vertical-align":"-0.936em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("E")]),s("span",{staticClass:"mord"},[t._v("q")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"}),s("span",{staticClass:"mord"},[t._v("3")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"},[t._v("2")])]),s("span",{staticClass:"mord"},[t._v(")")])])])])])])])],1),s("p",[t._v("sigmoid函数在二分类问题上仍被广泛使用，但是在隐藏层中已经较少使用")]),t._v(" "),s("p",[t._v("其图像图下：\n"),s("img",{attrs:{src:"/img/Dp/output_mlp_76f463_51_0.svg",alt:"output_mlp_76f463_51_0"}}),t._v("\nsigmoid函数的导数为下面的公式：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mtable",{attrs:{width:"100%"}},[s("mtr",[s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mrow",[s("mfrac",[s("mi",[t._v("d")]),s("mrow",[s("mi",[t._v("d")]),s("mi",[t._v("x")])],1)],1),s("mtext",[t._v("sigmoid")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mi",[t._v("exp")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mo",[t._v("−")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),s("msup",[s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("mn",[t._v("1")]),s("mo",[t._v("+")]),s("mi",[t._v("exp")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mo",[t._v("−")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1),s("mn",[t._v("2")])],1)],1),s("mo",[t._v("=")]),s("mtext",[t._v("sigmoid")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("mn",[t._v("1")]),s("mo",[t._v("−")]),s("mtext",[t._v("sigmoid")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1)],1),s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mtext",[t._v("(Eq. 3.3)")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\frac{d}{dx}\\text{sigmoid}(x) = \\frac{\\exp(-x)}{\\left(1 + \\exp(-x)\\right)^2} = \\text{sigmoid}(x)\\left(1 - \\text{sigmoid}(x)\\right) \\tag{Eq. 3.3}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.05744em","vertical-align":"-0.686em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[s("span",{staticStyle:{top:"-2.314em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("d")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("d")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("sigmoid")])]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.521008em","vertical-align":"-1.094008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.427em"}},[s("span",{staticStyle:{top:"-2.155992em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"minner"},[s("span",{staticClass:"minner"},[s("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mop"},[t._v("exp")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[t._v(")")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.954008em"}},[s("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mop"},[t._v("exp")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.094008em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("sigmoid")])]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"minner"},[s("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("sigmoid")])]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[t._v(")")])])]),s("span",{staticClass:"tag"},[s("span",{staticClass:"strut",staticStyle:{height:"2.521008em","vertical-align":"-1.094008em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("E")]),s("span",{staticClass:"mord"},[t._v("q")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"}),s("span",{staticClass:"mord"},[t._v("3")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"},[t._v("3")])]),s("span",{staticClass:"mord"},[t._v(")")])])])])])])])],1),s("p",[t._v("当输入为 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 时，sigmoid函数的导数达到最大值0.25，但在任意方向越远离 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 时，导数越接近 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])])],1),t._v(" "),s("p",[s("img",{attrs:{src:"/img/Dp/output_mlp_76f463_66_0.svg",alt:"output_mlp_76f463_66_0"}})]),t._v(" "),s("h3",{attrs:{id:"tanh函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tanh函数"}},[t._v("#")]),t._v(" tanh函数")]),t._v(" "),s("p",[t._v("tanh为双曲正切函数，也能将输入压缩转换到区间 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mo",[t._v("−")]),s("mn",[t._v("1")]),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("mn",[t._v("1")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(-1,1)")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 上，其公式如下：")],1),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mtable",{attrs:{width:"100%"}},[s("mtr",[s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mrow",[s("mi",[t._v("tanh")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")]),s("mo",[t._v("−")]),s("mi",[t._v("exp")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mo",[t._v("−")]),s("mn",[t._v("2")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),s("mrow",[s("mn",[t._v("1")]),s("mo",[t._v("+")]),s("mi",[t._v("exp")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mo",[t._v("−")]),s("mn",[t._v("2")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1),s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mtext",[t._v("(Eq. 3.4)")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\tanh(x) = \\frac{1 - \\exp(-2x)}{1 + \\exp(-2x)} \\tag{Eq. 3.4}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mop"},[t._v("tanh")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.363em","vertical-align":"-0.936em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.427em"}},[s("span",{staticStyle:{top:"-2.314em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mop"},[t._v("exp")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord"},[t._v("2")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mop"},[t._v("exp")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord"},[t._v("2")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})])]),s("span",{staticClass:"tag"},[s("span",{staticClass:"strut",staticStyle:{height:"2.363em","vertical-align":"-0.936em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("E")]),s("span",{staticClass:"mord"},[t._v("q")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"}),s("span",{staticClass:"mord"},[t._v("3")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"},[t._v("4")])]),s("span",{staticClass:"mord"},[t._v(")")])])])])])])])],1),s("p",[t._v("当输入在 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 附近时，tanh函数接近线性变换，其图像如下：")],1),t._v(" "),s("p",[s("img",{attrs:{src:"/img/Dp/output_mlp_76f463_81_0.svg",alt:"output_mlp_76f463_81_0"}}),t._v("\ntanh的导数为：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mtable",{attrs:{width:"100%"}},[s("mtr",[s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mrow",[s("mfrac",[s("mi",[t._v("d")]),s("mrow",[s("mi",[t._v("d")]),s("mi",[t._v("x")])],1)],1),s("mi",[t._v("tanh")]),s("mo",[t._v("⁡")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")]),s("mo",[t._v("=")]),s("mn",[t._v("1")]),s("mo",[t._v("−")]),s("msup",[s("mo",[s("mi",[t._v("tanh")]),s("mo",[t._v("⁡")])],1),s("mn",[t._v("2")])],1),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mi",[t._v("x")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),s("mtd",{attrs:{width:"50%"}}),s("mtd",[s("mtext",[t._v("(Eq. 3.5)")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\frac{d}{dx}\\tanh(x) = 1 - \\tanh^2(x) \\tag{Eq. 3.5}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.05744em","vertical-align":"-0.686em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[s("span",{staticStyle:{top:"-2.314em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("d")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("d")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mop"},[t._v("tanh")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1.148448em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mop"},[s("span",{staticClass:"mop"},[t._v("tanh")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8984479999999999em"}},[s("span",{staticStyle:{top:"-3.1473400000000002em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord mathdefault"},[t._v("x")]),s("span",{staticClass:"mclose"},[t._v(")")])]),s("span",{staticClass:"tag"},[s("span",{staticClass:"strut",staticStyle:{height:"2.05744em","vertical-align":"-0.686em"}}),s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("E")]),s("span",{staticClass:"mord"},[t._v("q")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"}),s("span",{staticClass:"mord"},[t._v("3")]),s("span",{staticClass:"mord"},[t._v(".")]),s("span",{staticClass:"mord"},[t._v("5")])]),s("span",{staticClass:"mord"},[t._v(")")])])])])])])])],1),s("p",[t._v("当输入接近 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 时，tanh函数的导数皆尽最大值 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("1")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v("，输入在任意方向上原理 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 点,导数越接近 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mn",[t._v("0")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("0")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[t._v("0")])])])])])],1),t._v(" "),s("p",[t._v("tanh的导数图像如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/Dp/output_mlp_76f463_96_0.svg",alt:"output_mlp_76f463_96_0"}})]),t._v(" "),s("h2",{attrs:{id:"模型选择、欠拟合与过拟合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模型选择、欠拟合与过拟合"}},[t._v("#")]),t._v(" 模型选择、欠拟合与过拟合")]),t._v(" "),s("p",[t._v("在训练神经网络时，我们关心的不仅仅是训练集上的表现，而是模型在"),s("strong",[t._v("新数据上的泛化能力")]),t._v("。")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("训练误差（training error）")]),t._v("：模型在训练集上的误差。")]),t._v(" "),s("li",[s("strong",[t._v("泛化误差（generalization error）")]),t._v("：模型在测试集或新数据上的误差。")])]),t._v(" "),s("p",[t._v("如果模型太简单，它连训练集都学不好，这叫 "),s("strong",[t._v("欠拟合（underfitting）")]),t._v("。"),s("br"),t._v("\n如果模型太复杂，它可能把训练数据中的噪音也记住了，导致测试集效果变差，这叫 "),s("strong",[t._v("过拟合（overfitting）")]),t._v("。")]),t._v(" "),s("p",[t._v("常见的应对方法：")]),t._v(" "),s("ul",[s("li",[t._v("欠拟合：增加模型复杂度（更多层、更多隐藏单元）、训练更久、增加特征。")]),t._v(" "),s("li",[t._v("过拟合：加入正则化（如权重衰减、Dropout）、增加数据量或数据增强、提前停止（early stopping）。")])]),t._v(" "),s("p",[t._v("在模型选择过程中，通常会用 "),s("strong",[t._v("验证集")]),t._v(" 或 "),s("strong",[t._v("交叉验证")]),t._v(" 来估计泛化误差，帮助选择更合适的模型。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"权重衰减-weight-decay-l2-正则化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#权重衰减-weight-decay-l2-正则化"}},[t._v("#")]),t._v(" 权重衰减（Weight Decay / L2 正则化）")]),t._v(" "),s("p",[s("strong",[t._v("思想")]),t._v("：在损失函数中对模型参数的大小进行惩罚，防止权重过大，从而缓解过拟合。")]),t._v(" "),s("p",[t._v("修改后的损失函数形式为：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("msup",[s("mi",[t._v("L")]),s("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),s("mo",[t._v("=")]),s("mi",[t._v("L")]),s("mo",[t._v("+")]),s("mfrac",[s("mi",[t._v("λ")]),s("mn",[t._v("2")])],1),s("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),s("mi",{attrs:{mathvariant:"bold"}},[t._v("w")]),s("msubsup",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),s("mn",[t._v("2")]),s("mn",[t._v("2")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\nL' = L + \\frac{\\lambda}{2} \\| \\mathbf{w} \\|_2^2\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.801892em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("L")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[s("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("L")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.05744em","vertical-align":"-0.686em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[s("span",{staticStyle:{top:"-2.314em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("2")])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("λ")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mord"},[t._v("∥")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[t._v("w")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("∥")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8641079999999999em"}},[s("span",{staticStyle:{top:"-2.4530000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])]),s("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.247em"}},[s("span")])])])])])])])])])])],1),s("p",[t._v("其中：")]),t._v(" "),s("ul",[s("li",[s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("L")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("L")])])])])]),t._v(" 是原始损失函数（如均方误差）。")],1),t._v(" "),s("li",[s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("λ")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\lambda")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("λ")])])])])]),t._v(" 是正则化强度（超参数）。")],1),t._v(" "),s("li",[s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),s("mi",{attrs:{mathvariant:"bold"}},[t._v("w")]),s("msubsup",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),s("mn",[t._v("2")]),s("mn",[t._v("2")])],1),s("mo",[t._v("=")]),s("msub",[s("mo",[t._v("∑")]),s("mi",[t._v("i")])],1),s("msubsup",[s("mi",[t._v("w")]),s("mi",[t._v("i")]),s("mn",[t._v("2")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("|| \\mathbf{w} \\|_2^2 = \\sum_i w_i^2")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord"},[t._v("∣")]),s("span",{staticClass:"mord"},[t._v("∣")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[t._v("w")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("∥")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[s("span",{staticStyle:{top:"-2.4518920000000004em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])]),s("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.24810799999999997em"}},[s("span")])])])])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1.113818em","vertical-align":"-0.29971000000000003em"}}),s("span",{staticClass:"mop"},[s("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.16195399999999993em"}},[s("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[s("span")])])])])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[s("span",{staticStyle:{top:"-2.441336em","margin-left":"-0.02691em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),s("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[s("span")])])])])])])])])]),t._v(" 表示权重平方和。")],1)]),t._v(" "),s("p",[t._v("直观理解：")]),t._v(" "),s("ul",[s("li",[t._v("如果参数过大，就会增加损失，促使优化器把参数控制在较小范围内。")]),t._v(" "),s("li",[t._v("权重衰减可以让模型更平滑，不容易记住训练数据的噪声。")])]),t._v(" "),s("p",[t._v("除了 "),s("strong",[t._v("L2 正则化")]),t._v("，还有 "),s("strong",[t._v("L1 正则化")]),t._v("：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("msup",[s("mi",[t._v("L")]),s("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),s("mo",[t._v("=")]),s("mi",[t._v("L")]),s("mo",[t._v("+")]),s("mi",[t._v("λ")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),s("mi",{attrs:{mathvariant:"bold"}},[t._v("w")]),s("msub",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∥")]),s("mn",[t._v("1")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\nL' = L + \\lambda \\| \\mathbf{w} \\|_1\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.801892em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("L")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[s("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("L")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("λ")]),s("span",{staticClass:"mord"},[t._v("∥")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[t._v("w")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("∥")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("1")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])])])])])],1),s("p",[t._v("它会使得权重稀疏（很多参数直接变成 0）。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"暂退法-dropout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暂退法-dropout"}},[t._v("#")]),t._v(" 暂退法（Dropout）")]),t._v(" "),s("p",[s("strong",[t._v("思想")]),t._v("：在训练过程中，随机“屏蔽”一部分神经元，让网络在不同的子网络上训练，从而减少过拟合。")]),t._v(" "),s("p",[t._v("具体做法：")]),t._v(" "),s("ul",[s("li",[t._v("在训练时，以概率 (p) 将某些神经元的输出置零。")]),t._v(" "),s("li",[t._v("在测试时，使用完整网络，但将输出按比例缩放，以保证期望一致。")])]),t._v(" "),s("p",[t._v("数学形式（训练阶段）：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("msubsup",[s("mi",[t._v("h")]),s("mi",[t._v("i")]),s("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),s("mo",[t._v("=")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("{")]),s("mtable",{attrs:{rowspacing:"0.3599999999999999em",columnalign:"left left",columnspacing:"1em"}},[s("mtr",[s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mn",[t._v("0")]),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1)],1),s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mtext",[t._v("以概率 ")]),s("mi",[t._v("p")])],1)],1)],1)],1),s("mtr",[s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mfrac",[s("msub",[s("mi",[t._v("h")]),s("mi",[t._v("i")])],1),s("mrow",[s("mn",[t._v("1")]),s("mo",[t._v("−")]),s("mi",[t._v("p")])],1)],1),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1)],1),s("mtd",[s("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[s("mrow",[s("mtext",[t._v("以概率 ")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mn",[t._v("1")]),s("mo",[t._v("−")]),s("mi",[t._v("p")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\nh_i' =\n\\begin{cases}\n0, & \\text{以概率 } p \\\\\n\\frac{h_i}{1-p}, & \\text{以概率 } (1-p)\n\\end{cases}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1.048892em","vertical-align":"-0.247em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("h")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8018919999999999em"}},[s("span",{staticStyle:{top:"-2.4530000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),s("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mtight"},[t._v("′")])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.247em"}},[s("span")])])])])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"3.0000299999999998em","vertical-align":"-1.25003em"}}),s("span",{staticClass:"minner"},[s("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size4"},[t._v("{")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mtable"},[s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.7145539999999997em"}},[s("span",{staticStyle:{top:"-3.7145539999999997em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("0")]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticStyle:{top:"-2.2745539999999997em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8962079999999999em"}},[s("span",{staticStyle:{top:"-2.6550000000000002em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mtight"},[t._v("1")]),s("span",{staticClass:"mbin mtight"},[t._v("−")]),s("span",{staticClass:"mord mathdefault mtight"},[t._v("p")])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.4101em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mathdefault mtight"},[t._v("h")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.3280857142857143em"}},[s("span",{staticStyle:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),s("span",{staticClass:"sizing reset-size3 size1 mtight"},[s("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[s("span")])])])])])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.481108em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mpunct"},[t._v(",")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.2145540000000001em"}},[s("span")])])])]),s("span",{staticClass:"arraycolsep",staticStyle:{width:"1em"}}),s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.7145539999999997em"}},[s("span",{staticStyle:{top:"-3.7145539999999997em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord cjk_fallback"},[t._v("以概率")]),s("span",{staticClass:"mord"})]),s("span",{staticClass:"mord mathdefault"},[t._v("p")])])]),s("span",{staticStyle:{top:"-2.2745539999999997em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3.008em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord text"},[s("span",{staticClass:"mord cjk_fallback"},[t._v("以概率")]),s("span",{staticClass:"mord"})]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("1")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mord mathdefault"},[t._v("p")]),s("span",{staticClass:"mclose"},[t._v(")")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.2145540000000001em"}},[s("span")])])])])])]),s("span",{staticClass:"mclose nulldelimiter"})])])])])])])],1),s("p",[t._v("其中 "),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("msub",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("h")]),s("mi",{attrs:{mathvariant:"bold"}},[t._v("i")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathbf{h_i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("h")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mathbf mtight"},[t._v("i")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])])])])]),t._v(" 是神经元原始输出，"),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("msubsup",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("h")]),s("mi",[t._v("i")]),s("msup",[s("mrow"),s("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathbf{h}_{i}^{'}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1.201144em","vertical-align":"-0.258664em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("h")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.94248em"}},[s("span",{staticStyle:{top:"-2.441336em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),s("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mtight"},[s("span"),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8278285714285715em"}},[s("span",{staticStyle:{top:"-2.931em","margin-right":"0.07142857142857144em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),s("span",{staticClass:"sizing reset-size3 size1 mtight"},[s("span",{staticClass:"mord mtight"},[s("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[s("span")])])])])])])])])]),t._v(" 是 Dropout 后的输出。")],1),t._v(" "),s("p",[t._v("直观理解：")]),t._v(" "),s("ul",[s("li",[t._v("Dropout 相当于“给模型加噪音”，迫使它不依赖某个特定神经元。")]),t._v(" "),s("li",[t._v("最终效果是减少过拟合，提高泛化能力。")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_4-7-前向传播、反向传播与计算图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-前向传播、反向传播与计算图"}},[t._v("#")]),t._v(" 4.7 前向传播、反向传播与计算图")]),t._v(" "),s("h3",{attrs:{id:"前向传播-forward-propagation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前向传播-forward-propagation"}},[t._v("#")]),t._v(" 前向传播（Forward Propagation）")]),t._v(" "),s("p",[t._v("数据从输入层开始，依次通过隐藏层，最后输出预测结果。"),s("br"),t._v("\n例如单隐层网络：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("h")]),s("mo",[t._v("=")]),s("mi",[t._v("σ")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("msub",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("W")]),s("mn",[t._v("1")])],1),s("mi",{attrs:{mathvariant:"bold"}},[t._v("x")]),s("mo",[t._v("+")]),s("msub",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("b")]),s("mn",[t._v("1")])],1),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\mathbf{h} = \\sigma(\\mathbf{W}_1 \\mathbf{x} + \\mathbf{b}_1)\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("h")])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[t._v("W")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("1")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("x")])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("b")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("1")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])]),s("span",{staticClass:"mclose"},[t._v(")")])])])])])])],1),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("o")]),s("mo",[t._v("=")]),s("msub",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("W")]),s("mn",[t._v("2")])],1),s("mi",{attrs:{mathvariant:"bold"}},[t._v("h")]),s("mo",[t._v("+")]),s("msub",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("b")]),s("mn",[t._v("2")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\mathbf{o} = \\mathbf{W}_2 \\mathbf{h} + \\mathbf{b}_2\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.44444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("o")])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[t._v("W")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("h")])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("b")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("2")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])])])])])],1),s("p",[t._v("其中：")]),t._v(" "),s("ul",[s("li",[s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("x")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathbf{x}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.44444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("x")])])])])])]),t._v(" 是输入，"),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("h")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathbf{h}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("h")])])])])])]),t._v(" 是隐藏层输出，"),s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("o")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathbf{o}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.44444em","vertical-align":"0em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("o")])])])])])]),t._v(" $是最终输出。")],1),t._v(" "),s("li",[s("eq",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("σ")]),s("mo",{attrs:{stretchy:"false"}},[t._v("(")]),s("mo",[t._v("⋅")]),s("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sigma(\\cdot)")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[t._v("⋅")]),s("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 表示激活函数。")],1)]),t._v(" "),s("h3",{attrs:{id:"反向传播-backpropagation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#反向传播-backpropagation"}},[t._v("#")]),t._v(" 反向传播（Backpropagation）")]),t._v(" "),s("p",[t._v("为了更新参数，我们需要计算损失函数对每一层参数的梯度。"),s("br"),t._v("\n梯度通过"),s("strong",[t._v("链式法则")]),t._v("逐层传回：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mfrac",[s("mrow",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),s("mi",[t._v("L")])],1),s("mrow",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),s("msub",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("W")]),s("mn",[t._v("1")])],1)],1)],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),s("mi",[t._v("L")])],1),s("mrow",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),s("mi",{attrs:{mathvariant:"bold"}},[t._v("h")])],1)],1),s("mo",[t._v("⋅")]),s("mfrac",[s("mrow",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),s("mi",{attrs:{mathvariant:"bold"}},[t._v("h")])],1),s("mrow",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),s("msub",[s("mi",{attrs:{mathvariant:"bold"}},[t._v("W")]),s("mn",[t._v("1")])],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\frac{\\partial L}{\\partial \\mathbf{W}_1}\n= \\frac{\\partial L}{\\partial \\mathbf{h}}\n\\cdot \\frac{\\partial \\mathbf{h}}{\\partial \\mathbf{W}_1}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.20744em","vertical-align":"-0.8360000000000001em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[s("span",{staticStyle:{top:"-2.3139999999999996em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[t._v("W")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("1")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),s("span",{staticClass:"mord mathdefault"},[t._v("L")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8360000000000001em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.05744em","vertical-align":"-0.686em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[s("span",{staticStyle:{top:"-2.314em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("h")])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),s("span",{staticClass:"mord mathdefault"},[t._v("L")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("⋅")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.20744em","vertical-align":"-0.8360000000000001em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[s("span",{staticStyle:{top:"-2.3139999999999996em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[t._v("W")])]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord mtight"},[t._v("1")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathbf"},[t._v("h")])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8360000000000001em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})])])])])])])],1),s("p",[t._v("这个过程就是反向传播。")]),t._v(" "),s("h3",{attrs:{id:"计算图-computational-graph"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算图-computational-graph"}},[t._v("#")]),t._v(" 计算图（Computational Graph）")]),t._v(" "),s("p",[t._v("神经网络的计算可以表示为一个有向图：")]),t._v(" "),s("ul",[s("li",[t._v("节点：运算（如加、乘、激活）。")]),t._v(" "),s("li",[t._v("边：张量（数据流）。")])]),t._v(" "),s("p",[t._v("前向传播：数据在图中“前进”。"),s("br"),t._v("\n反向传播：梯度在图中“反传”。")]),t._v(" "),s("p",[t._v("深度学习框架（PyTorch、TensorFlow）就是基于计算图自动完成反向传播。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_4-8-数值稳定性与模型初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-数值稳定性与模型初始化"}},[t._v("#")]),t._v(" 4.8 数值稳定性与模型初始化")]),t._v(" "),s("p",[t._v("在训练深层网络时，经常会遇到 "),s("strong",[t._v("梯度消失")]),t._v(" 或 "),s("strong",[t._v("梯度爆炸")]),t._v(" 问题。")]),t._v(" "),s("h3",{attrs:{id:"梯度消失"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#梯度消失"}},[t._v("#")]),t._v(" 梯度消失")]),t._v(" "),s("ul",[s("li",[t._v("当使用 Sigmoid/Tanh 等激活函数时，深层传播会让梯度趋近于 0。")]),t._v(" "),s("li",[t._v("结果：前面几层参数几乎不更新。")])]),t._v(" "),s("h3",{attrs:{id:"梯度爆炸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#梯度爆炸"}},[t._v("#")]),t._v(" 梯度爆炸")]),t._v(" "),s("ul",[s("li",[t._v("如果权重过大或层数过深，梯度在传播过程中会指数级增大。")]),t._v(" "),s("li",[t._v("结果：参数震荡、loss 无法收敛。")])]),t._v(" "),s("h3",{attrs:{id:"解决方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("合适的激活函数")])]),t._v(" "),s("ul",[s("li",[t._v("ReLU 能缓解梯度消失问题。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("参数初始化方法")])]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("Xavier/Glorot 初始化")]),t._v("（适合 Sigmoid/Tanh）:")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("w")]),s("mo",[t._v("∼")]),s("mi",[t._v("U")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("mo",[t._v("−")]),s("msqrt",[s("mfrac",[s("mn",[t._v("6")]),s("mrow",[s("msub",[s("mi",[t._v("n")]),s("mtext",[t._v("in")])],1),s("mo",[t._v("+")]),s("msub",[s("mi",[t._v("n")]),s("mtext",[t._v("out")])],1)],1)],1)],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msqrt",[s("mfrac",[s("mn",[t._v("6")]),s("mrow",[s("msub",[s("mi",[t._v("n")]),s("mtext",[t._v("in")])],1),s("mo",[t._v("+")]),s("msub",[s("mi",[t._v("n")]),s("mtext",[t._v("out")])],1)],1)],1)],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n     w \\sim U\\left(-\\sqrt{\\frac{6}{n_\\text{in} + n_\\text{out}}},\n                   \\sqrt{\\frac{6}{n_\\text{in} + n_\\text{out}}}\\right)\n     ")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("∼")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.526625em","vertical-align":"-0.95003em"}}),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"minner"},[s("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v("(")])]),s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord sqrt"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.576595em"}},[s("span",{staticClass:"svg-align",staticStyle:{top:"-4.4em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"4.4em"}}),s("span",{staticClass:"mord",staticStyle:{"padding-left":"1em"}},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[s("span",{staticStyle:{top:"-2.3139999999999996em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("n")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.31750199999999995em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord text mtight"},[s("span",{staticClass:"mord mtight"},[t._v("in")])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("n")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord text mtight"},[s("span",{staticClass:"mord mtight"},[t._v("out")])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("6")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8360000000000001em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})])])]),s("span",{staticStyle:{top:"-3.536595em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"4.4em"}}),s("span",{staticClass:"hide-tail",staticStyle:{"min-width":"1.02em",height:"2.48em"}},[s("svg",{attrs:{width:"400em",height:"2.48em",viewBox:"0 0 400000 2592",preserveAspectRatio:"xMinYMin slice"}},[s("path",{attrs:{d:"M424,2478\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl0 -0c4,-6.7,10,-10,18,-10 H400000\nv40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80\nh400000v40h-400000z"}})])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.863405em"}},[s("span")])])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mord sqrt"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.576595em"}},[s("span",{staticClass:"svg-align",staticStyle:{top:"-4.4em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"4.4em"}}),s("span",{staticClass:"mord",staticStyle:{"padding-left":"1em"}},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[s("span",{staticStyle:{top:"-2.3139999999999996em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("n")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.31750199999999995em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord text mtight"},[s("span",{staticClass:"mord mtight"},[t._v("in")])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("n")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord text mtight"},[s("span",{staticClass:"mord mtight"},[t._v("out")])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("6")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8360000000000001em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})])])]),s("span",{staticStyle:{top:"-3.536595em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"4.4em"}}),s("span",{staticClass:"hide-tail",staticStyle:{"min-width":"1.02em",height:"2.48em"}},[s("svg",{attrs:{width:"400em",height:"2.48em",viewBox:"0 0 400000 2592",preserveAspectRatio:"xMinYMin slice"}},[s("path",{attrs:{d:"M424,2478\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl0 -0c4,-6.7,10,-10,18,-10 H400000\nv40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80\nh400000v40h-400000z"}})])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.863405em"}},[s("span")])])])]),s("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v(")")])])])])])])])])],1),s("p",[t._v("保证前后层输出方差一致。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("He 初始化")]),t._v("（适合 ReLU）：")]),t._v(" "),s("section",[s("eqn",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[s("semantics",[s("mrow",[s("mi",[t._v("w")]),s("mo",[t._v("∼")]),s("mi",{attrs:{mathvariant:"script"}},[t._v("N")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("mn",[t._v("0")]),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("mfrac",[s("mn",[t._v("2")]),s("msub",[s("mi",[t._v("n")]),s("mtext",[t._v("in")])],1)],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n     w \\sim \\mathcal{N}\\left(0, \\frac{2}{n_\\text{in}}\\right)\n\t  ")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),s("span",{staticClass:"mrel"},[t._v("∼")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),s("span",{staticClass:"base"},[s("span",{staticClass:"strut",staticStyle:{height:"2.40003em","vertical-align":"-0.95003em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathcal",staticStyle:{"margin-right":"0.14736em"}},[t._v("N")])]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"minner"},[s("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v("(")])]),s("span",{staticClass:"mord"},[t._v("0")]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mopen nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[s("span",{staticStyle:{top:"-2.3139999999999996em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathdefault"},[t._v("n")]),s("span",{staticClass:"msupsub"},[s("span",{staticClass:"vlist-t vlist-t2"},[s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.31750199999999995em"}},[s("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),s("span",{staticClass:"sizing reset-size6 size3 mtight"},[s("span",{staticClass:"mord text mtight"},[s("span",{staticClass:"mord mtight"},[t._v("in")])])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[s("span")])])])])])])]),s("span",{staticStyle:{top:"-3.23em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),s("span",{staticStyle:{top:"-3.677em"}},[s("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord"},[t._v("2")])])])]),s("span",{staticClass:"vlist-s"},[t._v("​")])]),s("span",{staticClass:"vlist-r"},[s("span",{staticClass:"vlist",staticStyle:{height:"0.8360000000000001em"}},[s("span")])])])]),s("span",{staticClass:"mclose nulldelimiter"})]),s("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size3"},[t._v(")")])])])])])])])])],1)])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("梯度裁剪")]),t._v("（Gradient Clipping）")]),t._v(" "),s("ul",[s("li",[t._v("如果梯度过大，可以强行限制其大小，避免数值爆炸。")])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"环境与分布偏移"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境与分布偏移"}},[t._v("#")]),t._v(" 环境与分布偏移")]),t._v(" "),s("h3",{attrs:{id:"什么是分布偏移"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是分布偏移"}},[t._v("#")]),t._v(" 什么是分布偏移")]),t._v(" "),s("ul",[s("li",[t._v("如果训练数据和测试数据分布不同，模型的泛化能力会下降，这叫 "),s("strong",[t._v("分布偏移（distribution shift）")]),t._v("。")])]),t._v(" "),s("h3",{attrs:{id:"类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类型"}},[t._v("#")]),t._v(" 类型")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("协变量偏移（Covariate Shift）")])]),t._v(" "),s("ul",[s("li",[t._v("输入分布变了，但条件分布 (P(y|x)) 不变。")]),t._v(" "),s("li",[t._v("例如：训练图片很清晰，测试图片有噪声。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("标签偏移（Label Shift）")])]),t._v(" "),s("ul",[s("li",[t._v("标签的分布变了。")]),t._v(" "),s("li",[t._v("例如：训练集中猫狗各 50%，测试集里猫占 90%。")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("概念偏移（Concept Shift）")])]),t._v(" "),s("ul",[s("li",[t._v("输入和输出的映射关系变了。")]),t._v(" "),s("li",[t._v("例如：医学诊断标准更新。")])])])]),t._v(" "),s("h3",{attrs:{id:"应对方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应对方法"}},[t._v("#")]),t._v(" 应对方法")]),t._v(" "),s("ul",[s("li",[t._v("数据增强，让训练数据更接近真实场景。")]),t._v(" "),s("li",[t._v("收集更多与实际环境匹配的数据。")]),t._v(" "),s("li",[t._v("迁移学习，把在一个任务上学到的知识迁移到另一个任务上。")])]),t._v(" "),s("hr")])}),[],!1,null,null,null);s.default=l.exports}}]);