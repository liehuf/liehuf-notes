(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{405:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"一、-shell脚本结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、-shell脚本结构"}},[s._v("#")]),s._v(" 一、 Shell脚本结构")]),s._v(" "),a("h4",{attrs:{id:"核心三要素-shebang-执行权限-参数传递"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心三要素-shebang-执行权限-参数传递"}},[s._v("#")]),s._v(" 核心三要素：shebang + 执行权限 + 参数传递")]),s._v(" "),a("h5",{attrs:{id:"_1-shebang-脚本的-身份证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-shebang-脚本的-身份证"}},[s._v("#")]),s._v(" （1）Shebang（脚本的 “身份证”）")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("定义")]),s._v("：脚本第一行的 "),a("code",[s._v("#!/bin/bash")]),s._v("（或 "),a("code",[s._v("#!/bin/sh")]),s._v("），告诉系统 “用哪个 Shell 来执行这个脚本”；")]),s._v(" "),a("li",[a("strong",[s._v("必须写在第一行")]),s._v("，且 "),a("code",[s._v("#!")]),s._v(" 是固定开头（少一个都不行）；")]),s._v(" "),a("li",[s._v("常见写法：\n"),a("ul",[a("li",[a("code",[s._v("#!/bin/bash")]),s._v("：用 bash 执行（Ubuntu 默认，功能最全）；")]),s._v(" "),a("li",[a("code",[s._v("#!/bin/sh")]),s._v("：用系统默认 Shell（Ubuntu 中 "),a("code",[s._v("sh")]),s._v(" 是 bash 的软链接）。")])])])]),s._v(" "),a("h5",{attrs:{id:"_2-执行权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-执行权限"}},[s._v("#")]),s._v(" （2）执行权限")]),s._v(" "),a("ul",[a("li",[s._v("Shell 脚本本质是 “可执行文本文件”，必须赋予"),a("strong",[s._v("执行权限（x）")]),s._v(" 才能运行；")]),s._v(" "),a("li",[s._v("核心命令："),a("code",[s._v("chmod +x 脚本名.sh")]),s._v("（给所有用户执行权限）；")]),s._v(" "),a("li",[s._v("执行方式：\n"),a("ul",[a("li",[a("code",[s._v("./脚本名.sh")]),s._v("：在当前 Shell 子进程中执行（推荐）；")]),s._v(" "),a("li",[a("code",[s._v("bash 脚本名.sh")]),s._v("：强制用 bash 执行（无需执行权限）；")]),s._v(" "),a("li",[a("code",[s._v(". 脚本名.sh")]),s._v(" / "),a("code",[s._v("source 脚本名.sh")]),s._v("：在当前 Shell 中执行（会修改当前环境）。")])])])]),s._v(" "),a("h5",{attrs:{id:"_3-参数传递-脚本接收外部输入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-参数传递-脚本接收外部输入"}},[s._v("#")]),s._v(" （3）参数传递（脚本接收外部输入）")]),s._v(" "),a("p",[s._v("脚本运行时，通过位置参数接收外部传入的参数：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("$0")]),s._v("：脚本本身的名字；")]),s._v(" "),a("li",[a("code",[s._v("$1")]),s._v("：第一个参数，"),a("code",[s._v("$2")]),s._v("：第二个参数，…，"),a("code",[s._v("$9")]),s._v("：第九个参数；")]),s._v(" "),a("li",[a("code",[s._v("$*")]),s._v(" / "),a("code",[s._v("$@")]),s._v("：所有参数（细节差异："),a("code",[s._v("$*")]),s._v(" 把所有参数当一个字符串，"),a("code",[s._v("$@")]),s._v(" 保留每个参数独立）；")]),s._v(" "),a("li",[a("code",[s._v("$#")]),s._v("：参数的个数。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如下是一个示例，展示在Linux系统中创建一个脚本、赋予执行权限并执行然后输出的过程")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" first_script.sh "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建脚本文件")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑脚本内容")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这是注释：第一个Shell脚本，接收参数并打印")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印脚本名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"脚本名：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印第一个参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第一个参数：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印第二个参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第二个参数：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印所有参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"所有参数：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印参数个数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"参数个数：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x first_script.sh "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 赋予执行权限")]),s._v("\n\n./first_script.sh hello world "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出内容")]),s._v("\n脚本名：./first_script.sh\n第一个参数：hello\n第二个参数：world\n所有参数：hello world\n参数个数：2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以使用以下方式执行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式1：用bash强制执行（无需执行权限）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" first_script.sh test1 test2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式2：在当前Shell执行（会修改当前环境，慎用）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" first_script.sh test3 test4\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或 . first_script.sh test3 test4")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("h3",{attrs:{id:"二、条件判断-if"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、条件判断-if"}},[s._v("#")]),s._v(" 二、条件判断(if)")]),s._v(" "),a("h4",{attrs:{id:"基本语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 单分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" 条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    命令\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 多分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" 条件1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    命令1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" 条件2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    命令2\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    命令3\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"常用例子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用例子"}},[s._v("#")]),s._v(" 常用例子")]),s._v(" "),a("ol",[a("li",[s._v("判断命令是否成功（最常用）")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" a b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"成功"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"失败"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("命令返回值：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("0")]),s._v("：成功")]),s._v(" "),a("li",[s._v("非 "),a("code",[s._v("0")]),s._v("：失败")])]),s._v(" "),a("hr"),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("文件判断参数")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数")]),s._v(" "),a("th",[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("-e file")])]),s._v(" "),a("td",[s._v("文件存在")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-f file")])]),s._v(" "),a("td",[s._v("普通文件")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-d dir")])]),s._v(" "),a("td",[s._v("目录")])])])]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" backup "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"目录存在"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("⚠️ "),a("code",[s._v("[ ]")]),s._v(" 前后必须有空格")]),s._v(" "),a("hr"),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("3. 数值 / 字符串比较\n")])])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-eq")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a 等于 10"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("常用参数：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[s._v("参数")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("含义")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[s._v("-eq")])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("等于(数字)")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[s._v("-ne")])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("不等于")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[s._v("-gt")])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("大于")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[s._v("-lt")])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("小于")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[s._v("==")])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("字符串相等")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[a("code",[s._v("!=")])]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("字符串不等")])])])]),s._v(" "),a("h3",{attrs:{id:"三、循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、循环"}},[s._v("#")]),s._v(" 三、循环")]),s._v(" "),a("h4",{attrs:{id:"for循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for循环"}},[s._v("#")]),s._v(" for循环")]),s._v(" "),a("h5",{attrs:{id:"基本语法-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-2"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" 变量 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 列表"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    命令\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"常见用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见用法"}},[s._v("#")]),s._v(" 常见用法")]),s._v(" "),a("p",[s._v("遍历文件：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" *.txt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("遍历数字：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("hr"),s._v(" "),a("h4",{attrs:{id:"while-循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#while-循环"}},[s._v("#")]),s._v(" while 循环")]),s._v(" "),a("h5",{attrs:{id:"基本语法-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-3"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" 条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    命令\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"常见用法-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见用法-2"}},[s._v("#")]),s._v(" 常见用法")]),s._v(" "),a("p",[s._v("无限循环：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("按行读文件：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$line")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" file.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"四、函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、函数"}},[s._v("#")]),s._v(" 四、函数")]),s._v(" "),a("h4",{attrs:{id:"基本语法-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-4"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("函数名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    命令\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("调用：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("函数名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("h4",{attrs:{id:"带参数的函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#带参数的函数"}},[s._v("#")]),s._v(" 带参数的函数")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("调用：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("log "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"开始执行"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("参数说明：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("$1")]),s._v(" "),a("code",[s._v("$2")]),s._v("：第 1、2 个参数")]),s._v(" "),a("li",[a("code",[s._v("$@")]),s._v("：所有参数")])]),s._v(" "),a("hr"),s._v(" "),a("h4",{attrs:{id:"返回值-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回值-可选"}},[s._v("#")]),s._v(" 返回值（可选）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("myfunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("返回范围：0–255")]),s._v(" "),a("li",[s._v("默认返回最后一条命令的结果")])]),s._v(" "),a("h3",{attrs:{id:"五、定时任务-cron-时间触发器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、定时任务-cron-时间触发器"}},[s._v("#")]),s._v(" 五、定时任务 cron（时间触发器）")]),s._v(" "),a("p",[s._v("cron 是 Linux 内置的定时任务机制，用来在"),a("strong",[s._v("指定时间自动执行命令或脚本")]),s._v("。"),a("br"),s._v("\n本质只有一句话："),a("strong",[s._v("时间到了 → 执行一条命令")]),s._v("。")]),s._v(" "),a("p",[s._v("cron 做的事非常简单：")]),s._v(" "),a("ol",[a("li",[s._v("读取定时规则")]),s._v(" "),a("li",[s._v("到时间")]),s._v(" "),a("li",[s._v("执行对应的命令或脚本")])]),s._v(" "),a("p",[s._v("cron "),a("strong",[s._v("不理解脚本逻辑")]),s._v("，只负责“按时触发”。")]),s._v(" "),a("h4",{attrs:{id:"_1-cron-核心语法-定时规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-cron-核心语法-定时规则"}},[s._v("#")]),s._v(" （1）cron 核心语法（定时规则）")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("规则格式（5 个字段，空格分隔）："),a("code",[s._v("分 时 日 月 周 要执行的命令/脚本")]),s._v("；")])]),s._v(" "),a("li",[a("p",[s._v("字段取值：")]),s._v(" "),a("ul",[a("li",[s._v("分：0-59；时：0-23；日：1-31；月：1-12；周：0-7（0/7 都是周日）；")])])]),s._v(" "),a("li",[a("p",[s._v("特殊符号：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("*")]),s._v("：每一个（比如 "),a("code",[s._v("* * * * *")]),s._v(" = 每分钟）；")]),s._v(" "),a("li",[a("code",[s._v("*/5")]),s._v("：每隔 5 个（比如 "),a("code",[s._v("*/5 * * * *")]),s._v(" = 每 5 分钟）；")]),s._v(" "),a("li",[a("code",[s._v("1,30")]),s._v("：指定多个值（比如 "),a("code",[s._v("1,30 * * * *")]),s._v(" = 每小时的 1 分和 30 分）。")])])])]),s._v(" "),a("h4",{attrs:{id:"_2-cron-操作命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-cron-操作命令"}},[s._v("#")]),s._v(" （2）cron 操作命令")]),s._v(" "),a("ul",[a("li",[s._v("编辑定时任务："),a("code",[s._v("crontab -e")]),s._v("（用户级）；"),a("code",[s._v("/etc/crontab")]),s._v("（系统级）；")]),s._v(" "),a("li",[s._v("查看定时任务："),a("code",[s._v("crontab -l")]),s._v("；")]),s._v(" "),a("li",[s._v("删除定时任务："),a("code",[s._v("crontab -r")]),s._v("（谨慎！）；")]),s._v(" "),a("li",[s._v("查看 cron 日志："),a("code",[s._v("grep cron /var/log/syslog")]),s._v("（排查定时任务不执行问题）。")])]),s._v(" "),a("h4",{attrs:{id:"_3-核心注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-核心注意事项"}},[s._v("#")]),s._v(" （3）核心注意事项")]),s._v(" "),a("ul",[a("li",[s._v("脚本必须写绝对路径（比如 "),a("code",[s._v("/home/ikun/backup.sh")]),s._v("，而非 "),a("code",[s._v("./backup.sh")]),s._v("）；")]),s._v(" "),a("li",[s._v("脚本中调用的命令最好写绝对路径（比如 "),a("code",[s._v("/bin/ls")]),s._v("，而非 "),a("code",[s._v("ls")]),s._v("）；")]),s._v(" "),a("li",[s._v("定时任务的输出默认发邮件，可重定向到日志："),a("code",[s._v("*/5 * * * * /home/ikun/check.sh >> /home/ikun/check.log 2>&1")]),s._v("。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);