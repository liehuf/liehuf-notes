(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{363:function(t,s,a){"use strict";a.r(s);var n=a(16),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"fpioa-gpio-一切的根源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fpioa-gpio-一切的根源"}},[t._v("#")]),t._v(" FPIOA & GPIO - 一切的根源")]),t._v(" "),s("h2",{attrs:{id:"_1-本节介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-本节介绍"}},[t._v("#")]),t._v(" 1. 本节介绍")]),t._v(" "),s("p",[t._v("📝 本节我们来开启“点灯启蒙”第一课：你将学习如何用 K230 控制 GPIO 引脚，进而点亮 LED、读取按键输入。")]),t._v(" "),s("p",[t._v("🎯 学习目标：")]),t._v(" "),s("p",[t._v("1️⃣ 掌握 GPIO 的"),s("strong",[t._v("输出模式")]),t._v("，点亮一盏 LED，为你通向硬件世界的第一步打光。"),s("br"),t._v("\n2️⃣ 理解 GPIO 的"),s("strong",[t._v("输入模式")]),t._v("，识别按键状态，开启交互之门。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-名词速通卡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-名词速通卡"}},[t._v("#")]),t._v(" 2. 名词速通卡")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名词")]),t._v(" "),s("th",[t._v("含义说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("GPIO")]),t._v(" "),s("td",[t._v("General Purpose I/O，芯片的“触手”")])]),t._v(" "),s("tr",[s("td",[t._v("FPIOA")]),t._v(" "),s("td",[t._v("可编程I/O阵列，“功能分发中心”")])]),t._v(" "),s("tr",[s("td",[t._v("IOMUX")]),t._v(" "),s("td",[t._v("引脚复用器，决定哪条信号接哪根脚")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Pin")])]),t._v(" "),s("td",[t._v("MicroPython 提供的 GPIO 接口")])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_3-fpioa-与-gpio-的关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-fpioa-与-gpio-的关系"}},[t._v("#")]),t._v(" 3. FPIOA 与 GPIO 的关系")]),t._v(" "),s("p",[t._v("K230 的 GPIO 本质上是逻辑信号通道，而 FPIOA 决定它们的“出口在哪”。"),s("br"),t._v("\n你得先通过 FPIOA 把信号线接出去，才能让 LED 亮起来、让按键按下有反应。")]),t._v(" "),s("p",[t._v("🪢 类比理解：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("GPIO")]),t._v("：电力公司，能发电")]),t._v(" "),s("li",[s("strong",[t._v("FPIOA")]),t._v("：电网配线，决定电送到哪栋楼")]),t._v(" "),s("li",[s("strong",[t._v("物理引脚")]),t._v("：用户家门口的电源插座")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_4-点亮一个-led-的最小代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-点亮一个-led-的最小代码"}},[t._v("#")]),t._v(" 4. 点亮一个 LED 的最小代码")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" machine "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Pin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FPIOA\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n\nfpioa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FPIOA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将 GPIO62 映射到物理引脚 IO62")]),t._v("\nfpioa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_function"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("62")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FPIOA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GPIO62"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建 GPIO62 对应的输出对象（默认高电平熄灭）")]),t._v("\nled "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("62")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Pin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OUT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pull"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Pin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PULL_NONE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" drive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 闪烁效果：亮灭切换")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    led"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("low"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 点亮（共阳LED）")]),t._v("\n    time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep_ms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    led"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("high"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 熄灭")]),t._v("\n    time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep_ms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("h2",{attrs:{id:"_5-加点交互-按键控制led"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-加点交互-按键控制led"}},[t._v("#")]),t._v(" 5. 加点交互：按键控制LED")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置按键引脚为输入模式")]),t._v("\nfpioa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_function"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" FPIOA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GPIO53"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbutton "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Pin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Pin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PULL_DOWN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nled"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("high"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始状态熄灭")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 状态变量")]),t._v("\nled_on "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\nlast_time "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\ndebounce "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    now "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ticks_ms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" button"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ticks_diff"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("now"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" last_time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" debounce"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        led_on "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" led_on\n        led"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("low"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" led_on "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" led"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("high"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        last_time "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" now\n\n    time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep_ms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"_6-解码一下这些操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-解码一下这些操作"}},[t._v("#")]),t._v(" 6. 解码一下这些操作")]),t._v(" "),s("p",[t._v("🧩 "),s("strong",[t._v("FPIOA 映射")]),t._v("\n用 "),s("code",[t._v(".set_function(pin, func)")]),t._v(" 把功能“绑”到具体引脚，就像给每条电缆装上插头。")]),t._v(" "),s("p",[t._v("⚙️ "),s("strong",[t._v("GPIO配置")]),t._v(" "),s("code",[t._v("Pin(pin号, 模式, 上下拉, 驱动能力)")]),t._v(" 是控制面板，输出、输入、电平行为都在这设定。")]),t._v(" "),s("p",[t._v("⏱️ "),s("strong",[t._v("按键消抖")]),t._v("\n肉眼看不见的“机械抖动”会导致多次触发，必须加个“冷静期”。")]),t._v(" "),s("p",[t._v("🔦 "),s("strong",[t._v("点灯原理")]),t._v("\n如果是共阳极LED，那么输出低电平就能让它亮起来，反之熄灭。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_7-注意事项-小技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-注意事项-小技巧"}},[t._v("#")]),t._v(" 7. 注意事项 & 小技巧")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("先配置 FPIOA，再用 GPIO")]),t._v("，否则你连线都没接好，点灯个鬼。")]),t._v(" "),s("li",[s("strong",[t._v("消抖时间")]),t._v("别太短，否则按一下亮两次你哭不哭？")]),t._v(" "),s("li",[s("strong",[t._v("共阳极LED")]),t._v(" 是高电平熄灭，低电平点亮，别搞反。")]),t._v(" "),s("li",[s("strong",[t._v("驱动能力设为7")]),t._v(" 就是全力输出，能亮就亮最亮！")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_8-参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-参考资料"}},[t._v("#")]),t._v(" 8. 参考资料")]),t._v(" "),s("ul",[s("li",[t._v("📗 "),s("a",{attrs:{href:"https://wiki.lckfb.com/zh-hans/lushan-pi-k230/basic/gpio-fpioa.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("K230 GPIO & FPIOA 官方文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("📘 "),s("a",{attrs:{href:"https://docs.micropython.org/en/latest/library/machine.Pin.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MicroPython Pin 模块文档"),s("OutboundLink")],1)])]),t._v(" "),s("hr"),t._v(" "),s("blockquote",[s("p",[t._v("🌌 点亮第一盏灯的时候，有人感觉是“我在操控硬件”，但其实，是“硬件开始回应你了”。如果你没成功，那八成是 FPIOA 没设好，回头翻一眼 😅。")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"免责声明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#免责声明"}},[t._v("#")]),t._v(" 免责声明")]),t._v(" "),s("p",[t._v("本文档及所有内容（包括文字、图片、代码等）均为作者基于嘉立创庐山派K230开发板公开资料和个人使用经验整理分享，仅供学习和技术交流之用。")]),t._v(" "),s("p",[t._v("所有涉及的品牌名称、商标、图片及相关资源均归嘉立创官方所有，未经授权不得用于商业宣传或其他用途。")]),t._v(" "),s("p",[t._v("作者与嘉立创官方无任何隶属或代理关系，内容不构成任何形式的官方承诺或保证。")]),t._v(" "),s("p",[t._v("用户在使用相关资源时，应遵守相应的开源协议和法律法规，确保合法合规。")]),t._v(" "),s("p",[t._v("如涉及版权问题，请联系作者或嘉立创官方处理。")])])}),[],!1,null,null,null);s.default=e.exports}}]);