(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{402:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"shell-结构理解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-结构理解"}},[s._v("#")]),s._v(" Shell 结构理解")]),s._v(" "),t("h2",{attrs:{id:"一、什么是shell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、什么是shell"}},[s._v("#")]),s._v(" 一、什么是Shell")]),s._v(" "),t("h4",{attrs:{id:"核心认知-shell-终端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#核心认知-shell-终端"}},[s._v("#")]),s._v(" 核心认知：Shell ≠ 终端")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("终端（Terminal）")]),s._v("：是 “输入输出的窗口”（比如你打开的命令行窗口、xterm、gnome-terminal），只负责显示和接收字符；")])]),s._v(" "),t("li",[t("p",[s._v("Shell")]),s._v(" "),t("p",[s._v("：是运行在终端里的 “程序”，核心作用有 3 个：")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("命令解释器")]),s._v("：把你敲的"),t("code",[s._v("ls")]),s._v("、"),t("code",[s._v("cd")]),s._v("翻译成内核能懂的指令；")]),s._v(" "),t("li",[t("strong",[s._v("进程启动器")]),s._v("：帮你创建 / 管理进程（比如"),t("code",[s._v("sleep 100 &")]),s._v("就是 Shell 帮你启动后台进程）；")]),s._v(" "),t("li",[t("strong",[s._v("文本处理协调器")]),s._v("：把多个命令串起来（管道、重定向），完成复杂文本处理。")])])])]),s._v(" "),t("p",[t("code",[s._v("echo $SHELL")]),s._v("命令可以查看当前的shell，也是默认shell")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$SHELL")]),s._v("\n/bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("echo /etc/shells")]),s._v("命令可以查看当前所有可用的shell")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/shells\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/shells: valid login shells")]),s._v("\n/bin/sh\n/bin/bash\n/usr/bin/bash\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("code",[s._v("echo $PATH")]),s._v("命令输出一些目录")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"path-核心原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#path-核心原理"}},[s._v("#")]),s._v(" $PATH 核心原理：")]),s._v(" "),t("p",[s._v("敲"),t("code",[s._v("ls")]),s._v("时，Shell 会"),t("strong",[s._v("按顺序遍历 $PATH 里的目录")]),s._v("，找到第一个名为"),t("code",[s._v("ls")]),s._v("的可执行文件（比如"),t("code",[s._v("/bin/ls")]),s._v("），然后执行它。")]),s._v(" "),t("p",[s._v("如果想验证：敲"),t("code",[s._v("which ls")]),s._v(" → 会输出"),t("code",[s._v("/bin/ls")]),s._v("，就是 $PATH 里找到的路径；")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n/usr/bin/ls\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"二、bash基础行为"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、bash基础行为"}},[s._v("#")]),s._v(" 二、bash基础行为")]),s._v(" "),t("h3",{attrs:{id:"命令查找顺序-shell-找命令的优先级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令查找顺序-shell-找命令的优先级"}},[s._v("#")]),s._v(" 命令查找顺序（shell 找命令的优先级）")]),s._v(" "),t("p",[s._v("Shell 执行命令时，优先级从高到低：")]),s._v(" "),t("ol",[t("li",[s._v("别名（alias）→ 比如"),t("code",[s._v("ll")]),s._v("其实是"),t("code",[s._v("ls -alF")]),s._v("的别名；")]),s._v(" "),t("li",[s._v("内置命令（builtin）→ 比如"),t("code",[s._v("cd")]),s._v("、"),t("code",[s._v("echo")]),s._v("（属于 Shell 本身，无需找文件）；")]),s._v(" "),t("li",[s._v("$PATH 里的外部命令 → 比如"),t("code",[s._v("ls")]),s._v("、"),t("code",[s._v("top")]),s._v("（独立可执行文件）。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" 是 shell 内建\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" 是 shell 内建\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" 是 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ls --color=auto"')]),s._v(" 的别名\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" ll\nll 是 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ls -alF"')]),s._v(" 的别名\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"参数展开-shell先解析-再输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数展开-shell先解析-再输出"}},[s._v("#")]),s._v(" 参数展开（shell先解析，再输出）")]),s._v(" "),t("p",[s._v("Shell 执行命令前，会先把变量、通配符等 “展开” 成具体内容，再执行。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 示例：参数展开")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("+5  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Shell先把 $a 展开成 10，再执行echo → 输出：10+5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"通配符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通配符"}},[s._v("#")]),s._v(" 通配符（* ? [])")]),s._v(" "),t("p",[s._v("Shell 的 “文件匹配工具”，先匹配文件，再执行命令：")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center"}},[s._v("通配符")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("含义")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("示例")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("*")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("匹配任意个任意字符")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("ls *.txt")]),s._v(" → 所有.txt 文件")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("?")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("匹配 1 个任意字符")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("ls file?.txt")]),s._v(" → file1.txt、filea.txt（但不匹配 file10.txt）")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("[]")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("匹配括号内的单个字符")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("ls file[123].txt")]),s._v(" → file1.txt、file2.txt、file3.txt")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" a.txt b.txt ab.txt abc.txt file1 file12 file2\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" *.txt\nabc.txt  ab.txt  a.txt  b.txt\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" file?\nfile1  file2\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" file"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nfile1  file2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"引号差异"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引号差异"}},[s._v("#")]),s._v(" 引号差异")]),s._v(" "),t("p",[s._v("核心："),t("strong",[s._v("单引号完全屏蔽 Shell 解析，双引号只屏蔽通配符 / 别名，保留变量展开")]),s._v("。")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center"}},[s._v("引号类型")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("特点")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("示例")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("输出")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"center"}},[s._v("无引号")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("全解析（变量、通配符、别名）")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("echo $a *")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("10 file1.txt file2.txt...")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[s._v("双引号")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("解析变量，屏蔽通配符 / 别名")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v('echo "$a *"')])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("10 *")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[s._v("单引号")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("完全不解析，原样输出")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("echo '$a *'")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("$a *")])])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("小明\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"我是 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v('"')]),s._v("\n我是 小明\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'我是 $name'")]),s._v("\n我是 "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"三、管道符-a-b-c"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、管道符-a-b-c"}},[s._v("#")]),s._v(" 三、管道符（A | B | C）")]),s._v(" "),t("p",[s._v("核心理解：管道连接的是「stdout（标准输出）→ stdin（标准输入）」")]),s._v(" "),t("ul",[t("li",[s._v("管道"),t("code",[s._v("|")]),s._v("把前一个命令的"),t("strong",[s._v("标准输出")]),s._v("，直接传给后一个命令的"),t("strong",[s._v("标准输入")]),s._v("；")]),s._v(" "),t("li",[s._v("管道传递的是 “数据流”，不是文件，无需临时保存到硬盘；")]),s._v(" "),t("li",[s._v("Unix 哲学：“做一件事，并做到最好”，管道把多个小命令拼成复杂功能。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把ps aux命令的输出过滤出含有bash的部分")]),s._v("\nikun        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2417")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14532")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5316")]),s._v(" pts/0    Ss   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":49   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\nikun        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2795")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12192")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2544")]),s._v(" pts/0    S+   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":03   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 多级管道：组合过滤+排序+统计（找CPU占用最高的前5个进程）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" root "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解释：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# grep -v root → 排除root进程")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sort -k3 -r → 按第3列（%CPU）倒序排序")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# head -5 → 只取前5行")]),s._v("\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?        I"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":47   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kworker/R-scsi_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?        S    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":47   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("scsi_eh_1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nroot          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" ?        I"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":47   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kworker/R-scsi_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nkernoops     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("933")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13100")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2224")]),s._v(" ?        Ss   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":48   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00 /usr/sbin/kerneloops\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"四、重定向-io控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、重定向-io控制"}},[s._v("#")]),s._v(" 四、重定向（IO控制）")]),s._v(" "),t("p",[s._v("Linux每个进程默认打开三个文件描述符")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("描述符")]),s._v(" "),t("th",[s._v("名称")]),s._v(" "),t("th",[s._v("缩写")]),s._v(" "),t("th",[s._v("默认位置")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("0")]),s._v(" "),t("td",[s._v("标准输入（stdin）")]),s._v(" "),t("td",[s._v("<")]),s._v(" "),t("td",[s._v("键盘")])]),s._v(" "),t("tr",[t("td",[s._v("1")]),s._v(" "),t("td",[s._v("标准输出（stdout）")]),s._v(" "),t("td",[s._v(">/>>")]),s._v(" "),t("td",[s._v("终端")])]),s._v(" "),t("tr",[t("td",[s._v("2")]),s._v(" "),t("td",[s._v("标准错误（stderr）")]),s._v(" "),t("td",[s._v("2>")]),s._v(" "),t("td",[s._v("终端")])])])]),s._v(" "),t("p",[s._v("重定向就是 “改变这些数据流的去向”。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 标准输出重定向（> 覆盖，>> 追加）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" file_list.txt  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把ls的输出（stdout）写入file_list.txt（覆盖原有内容）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"新内容"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" file_list.txt  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 追加内容到文件")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 标准错误重定向（2>）：丢弃错误，或保存错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /nonexistent "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" error.log  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把ls的错误信息（找不到目录）保存到error.log")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /nonexistent "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" /dev/null  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 丢弃错误（/dev/null是“黑洞”，写入的内容全消失）")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 合并标准输出和标准错误（&> 或 1> file 2>&1）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /etc /nonexistent "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" all_output.log  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把正常输出和错误都写入文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价于：ls /etc /nonexistent 1> all_output.log 2>&1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h2",{attrs:{id:"五、子shell与作用域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五、子shell与作用域"}},[s._v("#")]),s._v(" 五、子Shell与作用域")]),s._v(" "),t("p",[t("strong",[s._v("当前 Shell")]),s._v("：正在操作的 Shell 进程（比如终端窗口）；")]),s._v(" "),t("p",[t("strong",[s._v("子 Shell")]),s._v("：由当前 Shell 启动的新 Shell 进程（比如"),t("code",[s._v("()")]),s._v("、管道、脚本执行都会创建子 Shell）。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("echo 子shell: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" 子shell改完: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n子shell: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n子shell改完: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" 父shell: "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("\n父shell: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("子shell中的变量操作不会影响父shell，除非操作的是环境变量")]),s._v(" "),t("h3",{attrs:{id:"和-的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#和-的区别"}},[s._v("#")]),s._v(" () 和 {}的区别")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"center"}},[s._v("语法")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("类型")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("作用域")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("语法要求")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("()")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("子 Shell")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("变量只在子 Shell 生效")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("括号内命令用；分隔，括号前后可有空格")])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"center"}},[t("code",[s._v("{}")])]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("当前 Shell")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("变量在当前 Shell 生效")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("最后一个命令必须加；，括号前必须有空格（如 {echo 1;}）")])])])]),s._v(" "),t("h2",{attrs:{id:"六、环境变量-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#六、环境变量-path"}},[s._v("#")]),s._v(" 六、环境变量（PATH）")]),s._v(" "),t("p",[s._v("核心区分：环境变量 vs 普通变量")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("普通变量")]),s._v("：只在当前 Shell 生效（子 Shell 不可见）；")]),s._v(" "),t("li",[t("strong",[s._v("环境变量")]),s._v("：当前 Shell + 所有子 Shell 都可见（"),t("code",[s._v("export")]),s._v(" 是关键）。")])]),s._v(" "),t("h4",{attrs:{id:"shell-启动时加载了什么-读懂-bashrc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-启动时加载了什么-读懂-bashrc"}},[s._v("#")]),s._v(" Shell 启动时加载了什么？（读懂.bashrc）")]),s._v(" "),t("p",[s._v("Ubuntu 的 bash 启动时，会按顺序加载这些文件（影响环境变量 / 别名）：")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("/etc/profile")]),s._v("：系统级全局配置（所有用户）；")]),s._v(" "),t("li",[t("code",[s._v("~/.bash_profile")]),s._v(" / "),t("code",[s._v("~/.bash_login")]),s._v(" / "),t("code",[s._v("~/.profile")]),s._v("：用户级登录 Shell 配置；")]),s._v(" "),t("li",[t("code",[s._v("~/.bashrc")]),s._v("：用户级非登录 Shell 配置（比如终端窗口默认加载）。")])]),s._v(" "),t("p",[s._v("下面通过演示修改~/.bashrc文件来展示环境变量")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop$ gedit ~/.bashrc\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 ~/.bashrc中添加如下内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 添加自定义别名（myls 等价于 ls -l，简化命令）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("myls")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ls -l'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 添加永久的环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MY_PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/ikun/Documents"')]),s._v("\n\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bashrc "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行文件让其立刻生效")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再次执行：可见添加的全局变量生效！")]),s._v("\nikun@ubuntu2004:~/Desktop$ myls\n总计 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n-rw-rw-r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ikun ikun    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":58 abc.txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n-rw-rw-r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ikun ikun   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":07 test.txt\n\n\nikun@ubuntu2004:~/Desktop$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MY_PATH")]),s._v("\n/home/ikun/Documents\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);