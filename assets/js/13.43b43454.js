(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{381:function(s,t,a){"use strict";a.r(t);var i=a(2),l=Object(i.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("本博客用于记录我在学习《动手学深度学习》（D2L）过程中，对若干常见损失函数的理解。\n本篇先从分类问题中最常用的 "),t("strong",[s._v("交叉熵损失函数")]),s._v(" 开始。")]),s._v(" "),t("h2",{attrs:{id:"一、交叉熵损失函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、交叉熵损失函数"}},[s._v("#")]),s._v(" 一、交叉熵损失函数")]),s._v(" "),t("h3",{attrs:{id:"_1-本质理解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-本质理解"}},[s._v("#")]),s._v(" 1. 本质理解")]),s._v(" "),t("p",[s._v("交叉熵损失的本质是：")]),s._v(" "),t("blockquote",[t("p",[s._v("衡量模型预测得到的"),t("strong",[s._v("概率分布")]),s._v("与真实标签对应的"),t("strong",[s._v("理想分布")]),s._v("之间的差异。")])]),s._v(" "),t("p",[s._v("在分类问题中，模型并不是直接输出“类别”，而是输出对每个类别的置信程度（概率）。")]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"_2-softmax-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-softmax-函数"}},[s._v("#")]),s._v(" 2. Softmax 函数")]),s._v(" "),t("p",[s._v("设模型对某一个样本的输出为一个向量：")]),s._v(" "),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",{attrs:{mathvariant:"bold"}},[s._v("z")]),t("mo",[s._v("=")]),t("mo",{attrs:{stretchy:"false"}},[s._v("[")]),t("msub",[t("mi",[s._v("z")]),t("mn",[s._v("1")])],1),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msub",[t("mi",[s._v("z")]),t("mn",[s._v("2")])],1),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mo",[s._v("…")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msub",[t("mi",[s._v("z")]),t("mi",[s._v("h")])],1),t("msup",[t("mo",{attrs:{stretchy:"false"}},[s._v("]")]),t("mi",{attrs:{mathvariant:"normal"}},[s._v("⊤")])],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\n\\mathbf{z} = [z_1, z_2, \\dots, z_h]^\\top\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.44444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathbf"},[s._v("z")])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.149108em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[s._v("z")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[s._v("1")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[s._v("z")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[s._v("2")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"minner"},[s._v("…")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[s._v("z")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("h")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mclose"},[t("span",{staticClass:"mclose"},[s._v("]")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.8991079999999999em"}},[t("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[s._v("⊤")])])])])])])])])])])])])])],1),t("p",[s._v("其中 "),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",[s._v("h")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("h")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),t("span",{staticClass:"mord mathdefault"},[s._v("h")])])])])]),s._v(" 表示类别数，"),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",{attrs:{mathvariant:"bold"}},[s._v("z")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf{z}")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.44444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathbf"},[s._v("z")])])])])])]),s._v(" 中的每一个分量称为 logit。")],1),s._v(" "),t("p",[s._v("Softmax 函数将该向量映射为一个概率分布：")]),s._v(" "),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("i")])],1),t("mo",[s._v("=")]),t("mfrac",[t("mrow",[t("mi",[s._v("exp")]),t("mo",[s._v("⁡")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("msub",[t("mi",[s._v("z")]),t("mi",[s._v("i")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),t("mrow",[t("munderover",[t("mo",[s._v("∑")]),t("mrow",[t("mi",[s._v("j")]),t("mo",[s._v("=")]),t("mn",[s._v("1")])],1),t("mi",[s._v("h")])],1),t("mi",[s._v("exp")]),t("mo",[s._v("⁡")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("msub",[t("mi",[s._v("z")]),t("mi",[s._v("j")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1)],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\np_i = \\frac{\\exp(z_i)}{\\sum_{j=1}^{h} \\exp(z_j)}\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("i")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"2.741826em","vertical-align":"-1.314826em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mopen nulldelimiter"}),t("span",{staticClass:"mfrac"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"1.427em"}},[t("span",{staticStyle:{top:"-2.120992em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mop"},[t("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[s._v("∑")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.9890079999999999em"}},[t("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")]),t("span",{staticClass:"mrel mtight"},[s._v("=")]),t("span",{staticClass:"mord mtight"},[s._v("1")])])])]),t("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("h")])])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.43581800000000004em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mop"},[s._v("exp")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[s._v("z")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.311664em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[s._v("j")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[t("span")])])])])]),t("span",{staticClass:"mclose"},[s._v(")")])])]),t("span",{staticStyle:{top:"-3.23em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),t("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),t("span",{staticStyle:{top:"-3.677em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mop"},[s._v("exp")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[s._v("z")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("i")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mclose"},[s._v(")")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"1.314826em"}},[t("span")])])])]),t("span",{staticClass:"mclose nulldelimiter"})])])])])])])],1),t("p",[s._v("Softmax 输出满足以下性质：")]),s._v(" "),t("ul",[t("li",[t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("i")])],1),t("mo",[s._v("≥")]),t("mn",[s._v("0")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p_i \\ge 0")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.8304100000000001em","vertical-align":"-0.19444em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("i")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("≥")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[s._v("0")])])])])])],1),s._v(" "),t("li",[t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msubsup",[t("mo",[s._v("∑")]),t("mrow",[t("mi",[s._v("i")]),t("mo",[s._v("=")]),t("mn",[s._v("1")])],1),t("mi",[s._v("h")])],1),t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("i")])],1),t("mo",[s._v("=")]),t("mn",[s._v("1")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\sum_{i=1}^{h} p_i = 1")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.2887179999999998em","vertical-align":"-0.29971000000000003em"}}),t("span",{staticClass:"mop"},[t("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[s._v("∑")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.9890079999999999em"}},[t("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("i")]),t("span",{staticClass:"mrel mtight"},[s._v("=")]),t("span",{staticClass:"mord mtight"},[s._v("1")])])])]),t("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("h")])])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("i")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[s._v("1")])])])])])],1)]),s._v(" "),t("p",[s._v("因此，"),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",{attrs:{mathvariant:"bold"}},[s._v("p")]),t("mo",[s._v("=")]),t("mo",{attrs:{stretchy:"false"}},[s._v("[")]),t("msub",[t("mi",[s._v("p")]),t("mn",[s._v("1")])],1),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msub",[t("mi",[s._v("p")]),t("mn",[s._v("2")])],1),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mo",[s._v("…")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("h")])],1),t("msup",[t("mo",{attrs:{stretchy:"false"}},[s._v("]")]),t("mi",{attrs:{mathvariant:"normal"}},[s._v("⊤")])],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\\mathbf{p} = [p_1, p_2, \\dots, p_h]^\\top")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.63888em","vertical-align":"-0.19444em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathbf"},[s._v("p")])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.099108em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[s._v("1")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[s._v("2")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"minner"},[s._v("…")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight"},[s._v("h")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mclose"},[t("span",{staticClass:"mclose"},[s._v("]")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.849108em"}},[t("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[s._v("⊤")])])])])])])])])])])])]),s._v(" 可以被解释为模型对各个类别的预测概率。")],1),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"_3-真实标签的表示方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-真实标签的表示方式"}},[s._v("#")]),s._v(" 3. 真实标签的表示方式")]),s._v(" "),t("p",[s._v("假设某个样本的真实类别为 "),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",[s._v("y")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("y")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])])]),s._v("，通常将其表示为 one-hot 向量：")],1),s._v(" "),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",{attrs:{mathvariant:"bold"}},[s._v("y")]),t("mtext",[s._v("one-hot")])],1),t("mo",[s._v("=")]),t("mo",{attrs:{stretchy:"false"}},[s._v("[")]),t("mn",[s._v("0")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mo",[s._v("…")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mn",[s._v("1")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mo",[s._v("…")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mn",[s._v("0")]),t("mo",{attrs:{stretchy:"false"}},[s._v("]")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\n\\mathbf{y}_{\\text{one-hot}} =\n[0, \\dots, 1, \\dots, 0]\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.63888em","vertical-align":"-0.19444em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathbf",staticStyle:{"margin-right":"0.01597em"}},[s._v("y")])]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mtight"},[t("span",{staticClass:"mord text mtight"},[t("span",{staticClass:"mord mtight"},[s._v("one-hot")])])])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"minner"},[s._v("…")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mord"},[s._v("1")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"minner"},[s._v("…")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mclose"},[s._v("]")])])])])])])],1),t("p",[s._v("其中第 "),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",[s._v("y")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("y")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])])]),s._v(" 个位置为 1，其余位置为 0。")],1),s._v(" "),t("p",[s._v("这种表示方式对应一个“理想”的概率分布："),t("br"),s._v("\n模型应当对真实类别给出概率 1，对其他类别给出概率 0。")]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"_4-交叉熵损失的定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-交叉熵损失的定义"}},[s._v("#")]),s._v(" 4. 交叉熵损失的定义")]),s._v(" "),t("p",[s._v("对于单个样本，交叉熵损失定义为：")]),s._v(" "),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",[s._v("L")]),t("mo",[s._v("=")]),t("mo",[s._v("−")]),t("mi",[s._v("log")]),t("mo",[s._v("⁡")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("y")])],1),t("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\nL = -\\log(p_y)\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),t("span",{staticClass:"mord mathdefault"},[s._v("L")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),t("span",{staticClass:"mord"},[s._v("−")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mop"},[s._v("lo"),t("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[t("span")])])])])]),t("span",{staticClass:"mclose"},[s._v(")")])])])])])])],1),t("p",[s._v("其中 "),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("y")])],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p_y")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.716668em","vertical-align":"-0.286108em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[t("span")])])])])])])])])]),s._v(" 表示模型对真实类别 "),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",[s._v("y")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("y")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),t("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])])]),s._v(" 给出的预测概率。")],1),s._v(" "),t("p",[s._v("该公式意味着：")]),s._v(" "),t("ul",[t("li",[s._v("如果模型对真实类别预测得越自信（"),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("y")])],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p_y")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.716668em","vertical-align":"-0.286108em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[t("span")])])])])])])])])]),s._v(" 越大），损失越小")],1),s._v(" "),t("li",[s._v("如果模型对真实类别预测得越不确定（"),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("y")])],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p_y")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.716668em","vertical-align":"-0.286108em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[t("span")])])])])])])])])]),s._v(" 越小），损失会迅速增大")],1)]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"_5-数值示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-数值示例"}},[s._v("#")]),s._v(" 5. 数值示例")]),s._v(" "),t("ul",[t("li",[s._v("当 "),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("y")])],1),t("mo",[s._v("=")]),t("mn",[s._v("0.9")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p_y = 0.9")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.716668em","vertical-align":"-0.286108em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mord"},[s._v(".")]),t("span",{staticClass:"mord"},[s._v("9")])])])])]),s._v(" 时：")],1)]),s._v(" "),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",[s._v("L")]),t("mo",[s._v("=")]),t("mo",[s._v("−")]),t("mi",[s._v("log")]),t("mo",[s._v("⁡")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mn",[s._v("0.9")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("≈")]),t("mn",[s._v("0.105")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\nL = -\\log(0.9) \\approx 0.105\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),t("span",{staticClass:"mord mathdefault"},[s._v("L")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord"},[s._v("−")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mop"},[s._v("lo"),t("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mord"},[s._v(".")]),t("span",{staticClass:"mord"},[s._v("9")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("≈")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mord"},[s._v(".")]),t("span",{staticClass:"mord"},[s._v("1")]),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mord"},[s._v("5")])])])])])])],1),t("p",[s._v("损失较小，说明模型预测效果较好。")]),s._v(" "),t("ul",[t("li",[s._v("当 "),t("eq",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("p")]),t("mi",[s._v("y")])],1),t("mo",[s._v("=")]),t("mn",[s._v("0.1")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("p_y = 0.1")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.716668em","vertical-align":"-0.286108em"}}),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathdefault"},[s._v("p")]),t("span",{staticClass:"msupsub"},[t("span",{staticClass:"vlist-t vlist-t2"},[t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[t("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[t("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),t("span",{staticClass:"sizing reset-size6 size3 mtight"},[t("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[s._v("y")])])])]),t("span",{staticClass:"vlist-s"},[s._v("​")])]),t("span",{staticClass:"vlist-r"},[t("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[t("span")])])])])]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mord"},[s._v(".")]),t("span",{staticClass:"mord"},[s._v("1")])])])])]),s._v(" 时：")],1)]),s._v(" "),t("section",[t("eqn",[t("span",{staticClass:"katex-display"},[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[t("semantics",[t("mrow",[t("mi",[s._v("L")]),t("mo",[s._v("=")]),t("mo",[s._v("−")]),t("mi",[s._v("log")]),t("mo",[s._v("⁡")]),t("mo",{attrs:{stretchy:"false"}},[s._v("(")]),t("mn",[s._v("0.1")]),t("mo",{attrs:{stretchy:"false"}},[s._v(")")]),t("mo",[s._v("≈")]),t("mn",[s._v("2.302")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("\nL = -\\log(0.1) \\approx 2.302\n")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),t("span",{staticClass:"mord mathdefault"},[s._v("L")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"mord"},[s._v("−")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),t("span",{staticClass:"mop"},[s._v("lo"),t("span",{staticStyle:{"margin-right":"0.01389em"}},[s._v("g")])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mord"},[s._v(".")]),t("span",{staticClass:"mord"},[s._v("1")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),t("span",{staticClass:"mrel"},[s._v("≈")]),t("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),t("span",{staticClass:"base"},[t("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),t("span",{staticClass:"mord"},[s._v("2")]),t("span",{staticClass:"mord"},[s._v(".")]),t("span",{staticClass:"mord"},[s._v("3")]),t("span",{staticClass:"mord"},[s._v("0")]),t("span",{staticClass:"mord"},[s._v("2")])])])])])])],1),t("p",[s._v("损失显著增大，说明模型对真实类别的判断非常不自信。"),t("br"),s._v("\n哦，玛卡巴卡！")]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"_6-一个直观理解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-一个直观理解"}},[s._v("#")]),s._v(" 6. 一个直观理解")]),s._v(" "),t("p",[s._v("交叉熵损失实际上只关心一件事：")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("模型是否把足够高的概率分配给了真实类别。")])])]),s._v(" "),t("p",[s._v("至于其他类别的概率如何分配，只会通过归一化间接影响这一结果。")])])}),[],!1,null,null,null);t.default=l.exports}}]);