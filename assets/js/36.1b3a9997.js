(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{406:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"é™æ€è¿æ¥å’ŒåŠ¨æ€é“¾æ¥çš„å®è·µæ€§ç†è§£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é™æ€è¿æ¥å’ŒåŠ¨æ€é“¾æ¥çš„å®è·µæ€§ç†è§£"}},[s._v("#")]),s._v(" é™æ€è¿æ¥å’ŒåŠ¨æ€é“¾æ¥çš„å®è·µæ€§ç†è§£")]),s._v(" "),t("h2",{attrs:{id:"ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥"}},[s._v("#")]),s._v(" ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("é™æ€é“¾æ¥ï¼šç¼–è¯‘æ—¶æŠŠâ€œåˆ«äººå†™å¥½çš„ä»£ç â€ç›´æ¥æ‹·è´è¿›ä½ çš„ç¨‹åºé‡Œ")]),s._v(" "),t("strong",[s._v("åŠ¨æ€é“¾æ¥ï¼šç¼–è¯‘æ—¶åªè®°ä¸‹â€œæˆ‘ä»¥åè¦ç”¨è°â€ï¼ŒçœŸæ­£çš„ä»£ç ç­‰ç¨‹åºè¿è¡Œæ—¶å†æ‰¾")])])]),s._v(" "),t("p",[s._v("æ³¨æ„è¿™ä¸¤ä¸ªè¯çš„ä¸»è¯­ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("é™ / åŠ¨ï¼Œè¯´çš„ä¸æ˜¯ç¨‹åºæœ¬èº«")])]),s._v(" "),t("li",[s._v("è¯´çš„æ˜¯ï¼š"),t("strong",[s._v("åº“ä»£ç â€œä»€ä¹ˆæ—¶å€™ã€ä»¥ä»€ä¹ˆæ–¹å¼â€è¿›å…¥ä½ çš„ç¨‹åº")])])]),s._v(" "),t("h3",{attrs:{id:"ğŸ”¹-ç”¨-åšèœ-æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”¹-ç”¨-åšèœ-æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹"}},[s._v("#")]),s._v(" ğŸ”¹ ç”¨â€œåšèœâ€æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹")]),s._v(" "),t("h4",{attrs:{id:"é™æ€é“¾æ¥-static"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é™æ€é“¾æ¥-static"}},[s._v("#")]),s._v(" é™æ€é“¾æ¥ï¼ˆstaticï¼‰")]),s._v(" "),t("p",[s._v("ä½ åšé¥­æ—¶ï¼šæŠŠ "),t("strong",[s._v("ç›ã€æ²¹ã€é…±æ²¹ã€é”…å…¨éƒ¨è£…è¿›ä½ è‡ªå·±çš„èƒŒåŒ…ï¼Œå»åˆ°å“ªå„¿ï¼Œéƒ½ç”¨ä½ è‡ªå·±çš„")])]),s._v(" "),t("p",[s._v("ğŸ‘‰ å¥½å¤„ï¼šä¸ä¾èµ–ç¯å¢ƒå¹¶ä¸”æ”¾åˆ°å“ªéƒ½èƒ½è·‘ï¼ˆåµŒå…¥å¼ã€å›ºä»¶å–œæ¬¢ï¼‰")]),s._v(" "),t("p",[s._v("ğŸ‘‰ åå¤„ï¼šèƒŒåŒ…å¾ˆé‡ï¼ˆæ–‡ä»¶å¤§ï¼‰ï¼Œæ¯ä¸ªäººéƒ½èƒŒä¸€å¥—ï¼ˆæµªè´¹å†…å­˜ï¼‰")]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"åŠ¨æ€é“¾æ¥-dynamic"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€é“¾æ¥-dynamic"}},[s._v("#")]),s._v(" åŠ¨æ€é“¾æ¥ï¼ˆdynamicï¼‰")]),s._v(" "),t("p",[s._v("ä½ åšé¥­æ—¶ï¼šèƒŒåŒ…é‡Œ"),t("strong",[s._v("ä¸å¸¦é”…")]),s._v("ï¼Œåªå†™ä¸€å¼ çº¸ï¼šâ€œæˆ‘è¦ç”¨ 3 å·å¨æˆ¿çš„é”…â€")]),s._v(" "),t("p",[s._v("ç­‰ä½ "),t("strong",[s._v("çœŸæ­£å¼€å§‹åšé¥­ï¼ˆç¨‹åºè¿è¡Œï¼‰")]),s._v("ï¼šç³»ç»ŸæŠŠé”…ç»™ä½ ï¼Œå¤šä¸ªäººè¿˜èƒ½å…±ç”¨åŒä¸€å£é”…")]),s._v(" "),t("p",[s._v("ğŸ‘‰ å¥½å¤„ï¼šç¨‹åºå°ï¼Œå†…å­˜å¯å…±äº«")]),s._v(" "),t("p",[s._v("ğŸ‘‰ åå¤„ï¼šå¨æˆ¿æ²¡é”…ï¼Œä½ å°±å®Œè›‹ï¼ˆè¿è¡Œæ—¶æŠ¥é”™ï¼‰")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶"}},[s._v("#")]),s._v(" äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("ifndef")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("MATH_LIB_H\t")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤´æ–‡ä»¶")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("MATH_LIB_H")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mul")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("endif")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"math_lib.h"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æºæ–‡ä»¶")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mul")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"ä¸‰ã€é™æ€é“¾æ¥-ä»£ç -æ‹·è´-è¿›å¯æ‰§è¡Œæ–‡ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€é™æ€é“¾æ¥-ä»£ç -æ‹·è´-è¿›å¯æ‰§è¡Œæ–‡ä»¶"}},[s._v("#")]),s._v(" ä¸‰ã€é™æ€é“¾æ¥ï¼šä»£ç â€œæ‹·è´â€è¿›å¯æ‰§è¡Œæ–‡ä»¶")]),s._v(" "),t("p",[s._v("é™æ€é“¾æ¥çš„æ ¸å¿ƒåªæœ‰ä¸€å¥è¯ï¼š")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("ç›®æ ‡æ–‡ä»¶é‡Œçš„ä»£ç ï¼Œè¢«ç›´æ¥åˆå¹¶è¿›æœ€ç»ˆ ELFã€‚")])])]),s._v(" "),t("p",[s._v("ä»¥ä¸‹æ˜¯æ‰“åŒ…å¹¶ç¼–è¯‘è¾“å‡ºçš„è¿‡ç¨‹ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop/link_test$ gcc "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" math_lib.c "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" math_lib.o\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç”Ÿæˆç›®æ ‡æ–‡ä»¶")]),s._v("\nikun@ubuntu2004:~/Desktop/link_test$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" math_lib.o\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹ç›®æ ‡æ–‡ä»¶ç±»å‹")]),s._v("\nmath_lib.o: ELF "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit LSB relocatable, x86-64, version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SYSV"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", not stripped "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™æ˜¯ä¸€ä¸ªè¿˜æ²¡è¢«é“¾æ¥çš„â€œé›¶ä»¶â€")]),s._v("\nikun@ubuntu2004:~/Desktop/link_test$ ar rcs libmath.a math_lib.o\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŠŠ.oæ–‡ä»¶æ‰“åŒ…æˆ.aæ–‡ä»¶ï¼Œlibmathè¿™ä¸ªåå­—æ˜¯æ‰¾mathç›¸å…³çš„æ–‡ä»¶")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("ç¼–å†™"),t("code",[s._v("test_lib.c")]),s._v("æ–‡ä»¶ç”¨äºæµ‹è¯•")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio.h>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"math_lib.h"')])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a + b = %d\\n"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a * b = %d\\n"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mul")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("ä½¿ç”¨å‘½ä»¤ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop/link_test$ gcc test_lib.c "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" test_static "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-static")]),s._v(" -L. "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lmath")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-static")]),s._v("é€‰é¡¹è¡¨ç¤ºç”Ÿæˆé™æ€é“¾æ¥ï¼Œä½œç”¨æ˜¯æŠŠç¨‹åºè¿è¡Œéœ€è¦çš„æ‰€æœ‰ä¾èµ–æ‰“åŒ…ï¼Œå¦‚æœä¸åŠ ï¼Œåˆ™ä¸ºåŠ¨æ€åº“")]),s._v(" "),t("li",[t("code",[s._v("-L.")]),s._v(" è¡¨ç¤ºä¼˜å…ˆåœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾")]),s._v(" "),t("li",[t("code",[s._v("-lmath")]),s._v("è¡¨ç¤ºç”Ÿæˆçš„æ–‡ä»¶åï¼Œè§„åˆ™æ˜¯è‡ªåŠ¨åœ¨å‰é¢åŠ libï¼Œåœ¨åé¢åŠ .a")])]),s._v(" "),t("p",[s._v("æœ€åè¿›è¡ŒéªŒè¯ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop/link_test$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lh")]),s._v(" test_static "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -lä»£è¡¨ä»¥é•¿æ ¼å¼æ˜¾ç¤ºä¿¡æ¯ï¼Œ-hä»£è¡¨humanlize,äººæ€§åŒ–")]),s._v("\n-rwxrwxr-x "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" ikun ikun 880K  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("æœˆ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":18 test_static\nikun@ubuntu2004:~/Desktop/link_test$ ldd test_static\n\tä¸æ˜¯åŠ¨æ€å¯æ‰§è¡Œæ–‡ä»¶\nikun@ubuntu2004:~/Desktop/link_test$ nm test_static "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-E")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" add$| mul$"')]),s._v("\n00000000004017b0 T "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("\n00000000004017c8 T mul\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("æ–‡ä»¶è¾ƒå¤§")]),s._v(" "),t("li",[s._v("ä¸æ˜¯åŠ¨è¯­é“¾æ¥")]),s._v(" "),t("li",[s._v("å·²å®šä¹‰å‡½æ•°ä»£ç æ®µ")])]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"å››ã€åŠ¨æ€é“¾æ¥-ç¬¦å·-å¼•ç”¨-ä¸è¿è¡Œæ—¶è§£æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€åŠ¨æ€é“¾æ¥-ç¬¦å·-å¼•ç”¨-ä¸è¿è¡Œæ—¶è§£æ"}},[s._v("#")]),s._v(" å››ã€åŠ¨æ€é“¾æ¥ï¼šç¬¦å·â€œå¼•ç”¨â€ä¸è¿è¡Œæ—¶è§£æ")]),s._v(" "),t("p",[s._v("åŠ¨æ€é“¾æ¥å¹¶ä¸æ‹·è´ä»£ç ï¼Œè€Œæ˜¯ç•™ä¸‹â€œæ¬ æ¡â€ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ELF é‡Œåªè®°å½•ï¼šâ€œæˆ‘éœ€è¦ä¸€ä¸ªå« "),t("code",[s._v("add")]),s._v(" çš„ç¬¦å·ï¼Œå®ƒåœ¨æŸä¸ªå…±äº«åº“é‡Œï¼Œè‡³äºåœ¨å“ªé‡Œï¼Œä¿ºä¸ä¸­å˜â€")])]),s._v(" "),t("p",[s._v("é¦–å…ˆä»æ—§æˆæˆç›®æ ‡æ–‡ä»¶")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop/link_test$ gcc "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" math_lib.c "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" math_lib_pico.o "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fPIC")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("-fPIC çš„æ„ä¹‰:-fPIC è®©ä»£ç ä¸ä¾èµ–å›ºå®šåœ°å€ï¼Œé€šè¿‡ GOT/PLT é—´æ¥å¯»å€ï¼Œä½¿åŒä¸€ä»½ä»£ç èƒ½è¢«å¤šä¸ªè¿›ç¨‹å…±äº«")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop/link_test$ gcc "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-shared")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" libmath.so math_lib_pico.o\nikun@ubuntu2004:~/Desktop/link_test$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" libmath.so\nlibmath.so: ELF "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit LSB shared object, x86-64, version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SYSV"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", dynamically linked, BuildID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sha1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f701bf17254bed35c1ab68eea4487c995377e054, not stripped\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("code",[s._v("-shared")]),s._v("é€‰é¡¹ ï¼š"),t("strong",[s._v("ä¸è¦ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼Œç”Ÿæˆâ€œå¯è¢«åŠ è½½çš„å…±äº«å¯¹è±¡â€ã€‚")])]),s._v(" "),t("p",[s._v("å®ƒä¼šè®©é“¾æ¥å™¨ï¼šä¸è¦æ±‚ "),t("code",[s._v("main")]),s._v("ï¼Œå…è®¸æœªè§£æç¬¦å·ï¼Œç”Ÿæˆ "),t("code",[s._v(".so")]),s._v(" ç±»å‹ ELF")]),s._v(" "),t("p",[s._v("ç”ŸæˆåŠ¨æ€åº“åæŸ¥ä¸€ä¸‹æˆ·å£ï¼ˆä¾èµ–å…³ç³»ã€æŠŠæ–‡ä»¶æ‰’å¼€çœ‹çœ‹é‡Œé¢æœ‰å“ªäº›å‡½æ•°ï¼‰")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ikun@ubuntu2004:~/Desktop/link_test$ ldd test_dynamic\n\tlinux-vdso.so.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0x00007ffd9bdf4000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tlibmath.so "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ./libmath.so "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0x0000748d6e61a000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™ä¸€ä¸ªåº“ä¸ºç”¨æˆ·æ‰“åŒ…çš„åº“")]),s._v("\n\tlibc.so.6 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /lib/x86_64-linux-gnu/libc.so.6 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0x0000748d6e200000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t/lib64/ld-linux-x86-64.so.2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0x0000748d6e626000"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nikun@ubuntu2004:~/Desktop/link_test$ nm test_dynamic "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-E")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" add$| mul$"')]),s._v("\n                 U "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# UæŒ‡çš„æ˜¯æœªå®šä¹‰ï¼Œè¿™æ˜¯ä¸€ç§è®¾è®¡ï¼Œè€Œå¹¶éé”™è¯¯")]),s._v("\n                 U mul\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("æ¥ä¸‹æ¥æœ‰ä¸€ä¸ªæŠ¥é”™ï¼Œé€šè¿‡åŠ äº†ä¸€ä¸ªç¯å¢ƒå˜é‡è§£å†³ï¼š")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("kun@ubuntu2004:~/Desktop/link_test$ ./test_dynamic\n./test_dynamic: error "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" loading shared libraries: libmath.so: cannot "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" shared object file: No such "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\nikun@ubuntu2004:~/Desktop/link_test$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LD_LIBRARY_PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("./:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LD_LIBRARY_PATH")]),s._v("\nikun@ubuntu2004:~/Desktop/link_test$ ./test_dynamic\na + b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\na * b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("å«ä¹‰æ˜¯ï¼šåŠ¨æ€é“¾æ¥å™¨åœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œå…ˆä» "),t("code",[s._v("./")]),s._v(" è¿™ä¸ªç›®å½•æ‰¾ "),t("code",[s._v(".so")]),s._v("ï¼Œå†æ‰¾ç³»ç»Ÿé»˜è®¤è·¯å¾„ã€‚")])])}),[],!1,null,null,null);t.default=e.exports}}]);