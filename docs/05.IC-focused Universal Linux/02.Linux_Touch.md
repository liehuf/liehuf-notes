---
title: 02.文件操作
date: 2026-02-20 21:00:00
permalink: /pages/Linux_02/
---

## Linux 文件系统

### 一、Linux 常用目录

```bash
/            （根目录，整个文件系统起点）
/bin         （基础可执行命令，系统最小运行集）  
/sbin        （系统管理命令）  
/etc         （系统配置文件）  
/home        （普通用户目录）  
/root        （root 用户主目录）  
/usr         （大部分应用程序与库文件）  
/var         （可变数据，如日志）  
/proc        （内核状态映射，虚拟文件系统）  
/dev         （设备文件接口）  
/boot        （内核与启动文件）  
/tmp         （临时文件）  
/lib /lib64  （基础共享库）
```

核心必须记住：

```bash
/bin  /etc  /home  /usr  /var  /proc  /dev
```

------

### 二、命令的基本结构

通用形式：

```bash
command [options] [arguments]
```

例如：

```bash
ls -l /home
```

- command → 命令本体
- options → 选项（控制行为）
- arguments → 操作对象

---

**常用文件系统命令**

```bash
pwd              （显示当前路径）
cd path          （切换目录）
ls -l            （查看文件及权限）
mkdir dir        （创建目录）
rm file          （删除文件）
cp a b           （复制文件）
mv a b           （移动/重命名文件）
cat file         （查看文件内容）
less file        （分页查看文件）
df -T            （查看文件系统类型）
lsblk -f         （查看磁盘与分区类型）
mount            （查看挂载信息）
```

------

### 三、权限系统

Linux 权限由三组组成：

```bash
u  用户
g  组
o  其他人
```

每组包含三种权限：

```bash
r  读 (4)
w  写 (2)
x  执行 (1)
```

例如：

```bash
-rwxr-xr--bash

-      rwx     r-x     r--
↓       ↓       ↓       ↓
文件  所有者   组用户   其他人
```

结构：

```bash
[文件类型][u][g][o]
```

数值表示法：

```bash
chmod 755 file
```

解释：

```bash
7 = rwx
5 = r-x
5 = r-x
```

符号方式：

```bash
chmod u+x file
chmod g-w file
```

修改所有者：

```bash
chown user file
chown user:group file
```

------

### 四、硬链接与软链接

文件结构本质

```bash
文件名 → inode → 数据块
```

inode 才是数据实体。

硬链接（Hard Link）

本质：

> 多个文件名指向同一个 inode

创建：

```bash
ln file1 file2
```

特点：

- 共享 inode
- 删除一个不影响数据
- 不能跨文件系统

查看 inode：

```bash
ls -li
```

软链接（Symbolic Link）

本质：

> 一个文件保存另一个文件的路径

创建：

```bash
ln -s file1 link1
```

特点：

- 类似快捷方式
- 可以跨文件系统
- 原文件删除后失效

------

### 五、设备文件 /dev

/dev 目录包含设备文件：

```bash
/dev/sda      （硬盘）
/dev/sda1     （分区）
/dev/tty      （终端）
/dev/null     （空设备）
```

查看类型：

```bash
ls -l /dev/sda
```

开头字符说明：

```bash
b  块设备（硬盘）
c  字符设备（串口）
```

设备文件不是普通数据文件。

它们是：

> 内核驱动的接口节点

当读取设备文件时，本质是在与驱动交互。

------

### 六、文件的压缩和解压

#### 常用的Linux压缩格式

- .zip
- .tar.gz` / `.tgz
- .tar.bz2
- .tar.xz

#### zip /unzip

压缩用`zip`，解压用`unzip`

示例：

```bash
# 压缩当前目录下所有内容为 test.zip（-r 必须加，否则子目录会被忽略）
zip -r test.zip ./*

# 先创建解压目录，避免覆盖原文件， 选项 -d 代码解压到指定目录
mkdir zip_unpack && unzip test.zip -d zip_unpack
```

查看压缩包内容但不解压使用`unzip -l test.zip`

```bash
# unzip -l 的输出
Archive:  test.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
        9  02-24-2026 10:00   file1.txt
        9  02-24-2026 10:00   file2.txt
        0  02-24-2026 10:00   subdir/
        9  02-24-2026 10:00   subdir/file3.txt
---------                     -------
       27                     4 files
```

#### tar.gz

tar.gz（最常用、Linux 标配）

压缩：

```bash
tar -zcvf 文件名.tar.gz 要压缩的内容

# 示例
tar -zcvf test.tar.gz ./*
```

- `-z`：用 gzip 压缩
- `-c`：create 创建
- `-v`：显示过程（可选）
- `-f`：指定文件名（**必须放最后**）

解压：

```bash
tar -zxvf 文件名.tar.gz 解压的内容

# 示例
mkdir tar_gz_unpack && tar -zxvf test.tar.gz -C tar_gz_unpack # -C 选项代表解压到指定目录
```

- `-x`：extract 提取

查看`tar`包内容但不解压命令为：

```bash
# 查看 tar 包内容
tar -tf test.tar.gz # 如果想输出过程，可加-v参数
```

#### 其他tar包

通用的解压命令（只要是tar开头的都算）

```bash
# 解压任意 tar 包：tar.gz / tar.bz2 / tar.xz 全都通吃
tar -xf test.tar.xz
```

至于压缩成指定的压缩格式，需要改参数：

- `.tar.gz` 用：`-z`
- `.tar.bz2` 用：`-j`
- **`.tar.xz` 用：`-J`（大写 J）**