---
title: 01.numpy æ¨¡å—
date: 2025-09-26 22:00:00
permalink: /pages/Python_01/
---

# numpy æ¨¡å—

## NumPyç®€ä»‹

NumPyï¼ˆNumerical Python çš„ç®€ç§°ï¼‰æ˜¯ Python ä¸­ç”¨äºé«˜æ•ˆæ•°å€¼è®¡ç®—çš„åŸºç¡€åº“ã€‚å®ƒæä¾›äº†ä¸€ä¸ªæ ¸å¿ƒç±»å‹ `ndarray`ï¼ˆå¤šç»´æ•°ç»„ï¼‰ï¼Œå¹¶åœ¨å…¶ä¸Šå°è£…äº†å¤§é‡å‘é‡åŒ–è¿ç®—ã€çº¿æ€§ä»£æ•°ã€ç»Ÿè®¡å‡½æ•°ã€å¹¿æ’­æœºåˆ¶ã€ç´¢å¼•åˆ‡ç‰‡ã€éšæœºæ•°ç”Ÿæˆç­‰åŠŸèƒ½ã€‚å®ƒåœ¨ç§‘å­¦è®¡ç®—ã€æœºå™¨å­¦ä¹ ã€ä¿¡å·å¤„ç†ç­‰é¢†åŸŸéƒ½éå¸¸å…³é”®ã€‚

ç‰¹ç‚¹åŒ…æ‹¬ï¼š

- é«˜æ•ˆï¼šåº•å±‚ç”¨ C å®ç°ï¼Œè¿ç®—é€Ÿåº¦æ¯”çº¯ Python çš„ list å¿«å¾ˆå¤š
- æ”¯æŒå¤šç»´æ•°ç»„ï¼ˆå‘é‡ã€çŸ©é˜µã€å¼ é‡ï¼‰
- å¹¿æ’­æœºåˆ¶ï¼ˆä¸åŒå½¢çŠ¶æ•°ç»„åšè¿ç®—æ—¶è‡ªåŠ¨å¯¹é½ç»´åº¦ï¼‰
- ä¸å…¶ä»–æ•°æ®ç§‘å­¦åº“ï¼ˆPandasã€SciPyã€Matplotlibï¼‰å…¼å®¹

---

## ğŸ“Œ NumPy å¸¸ç”¨æ–¹æ³•ï¼ˆæ–¹æ³•ç­¾å + å‚æ•°è§£é‡Šï¼‰

### æ•°ç»„åˆ›å»º

- `np.array(object, dtype=None, copy=True, ndmin=0)`
   â†’ ä»åˆ—è¡¨/å…ƒç»„/åµŒå¥—ç»“æ„åˆ›å»ºæ•°ç»„ã€‚
  - `dtype`ï¼šæ•°æ®ç±»å‹
  - `copy`ï¼šæ˜¯å¦å¤åˆ¶æ•°æ®
  - `ndmin`ï¼šæœ€å°ç»´åº¦
- `np.zeros(shape, dtype=float)`
   â†’ åˆ›å»ºå…¨ 0 æ•°ç»„ã€‚
- `np.ones(shape, dtype=float)`
   â†’ åˆ›å»ºå…¨ 1 æ•°ç»„ã€‚
- `np.full(shape, fill_value, dtype=None)`
   â†’ åˆ›å»ºæŒ‡å®šå€¼æ•°ç»„ã€‚
- `np.eye(N, M=None, k=0, dtype=float)`
   â†’ åˆ›å»ºå•ä½çŸ©é˜µï¼ˆå¯¹è§’çº¿ä¸Šä¸º1ï¼‰ã€‚
  - `N`ï¼šè¡Œæ•°
  - `M`ï¼šåˆ—æ•°ï¼ˆé»˜è®¤ç­‰äº Nï¼‰
  - `k`ï¼šå¯¹è§’çº¿åç§»
- `np.arange([start, ]stop, step=1, dtype=None)`
   â†’ ç±»ä¼¼ Python rangeï¼Œç”Ÿæˆç­‰å·®åºåˆ—ã€‚
- `np.linspace(start, stop, num=50, endpoint=True, dtype=None)`
   â†’ ç”Ÿæˆç­‰é—´è·åºåˆ—ã€‚
- `np.random.rand(d0, d1, â€¦)`
   â†’ ç”Ÿæˆ [0,1) åŒºé—´çš„å‡åŒ€åˆ†å¸ƒéšæœºæ•°ã€‚
- `np.random.randn(d0, d1, â€¦)`
   â†’ ç”Ÿæˆæ ‡å‡†æ­£æ€åˆ†å¸ƒéšæœºæ•°ã€‚

------

### æ•°ç»„å±æ€§

- `arr.shape` â†’ è¿”å›æ•°ç»„å½¢çŠ¶ (tuple)ã€‚
- `arr.ndim` â†’ è¿”å›æ•°ç»„ç»´åº¦ã€‚
- `arr.size` â†’ å…ƒç´ æ€»æ•°ã€‚
- `arr.dtype` â†’ å…ƒç´ æ•°æ®ç±»å‹ã€‚

------

### åŸºæœ¬æ“ä½œ

- `np.reshape(arr, newshape, order='C')`
   â†’ æ”¹å˜æ•°ç»„å½¢çŠ¶ã€‚
- `np.transpose(arr, axes=None)` / `arr.T`
   â†’ è½¬ç½®æ•°ç»„ã€‚
- `np.concatenate((a1, a2, ...), axis=0)`
   â†’ æ‹¼æ¥æ•°ç»„ã€‚
- `np.split(ary, indices_or_sections, axis=0)`
   â†’ æ‹†åˆ†æ•°ç»„ã€‚
- `np.hstack(tup)` / `np.vstack(tup)`
   â†’ æ°´å¹³ / å‚ç›´æ‹¼æ¥ã€‚

------

### ç´¢å¼•ä¸åˆ‡ç‰‡

- `arr[start:stop:step]`
   â†’ ä¸€ç»´åˆ‡ç‰‡ã€‚
- `arr[rows, cols]`
   â†’ äºŒç»´ç´¢å¼•ï¼ˆè¡Œï¼Œåˆ—ï¼‰ã€‚
- `arr[...]`
   â†’ ä½¿ç”¨ `...` è¡¨ç¤ºå‰©ä½™æ‰€æœ‰ç»´åº¦ã€‚
- `arr[arr > 0]`
   â†’ å¸ƒå°”ç´¢å¼•ã€‚

------

### è¿ç®—

- `np.add(x1, x2)` / `x1 + x2`
- `np.subtract(x1, x2)` / `x1 - x2`
- `np.multiply(x1, x2)` / `x1 * x2`
- `np.divide(x1, x2)` / `x1 / x2`
- `np.power(x1, x2)` / `x1 ** x2`
- `np.mod(x1, x2)` / `x1 % x2`

â†’ å‘é‡åŒ–è®¡ç®—ï¼ŒæŒ‰å…ƒç´ æ‰§è¡Œã€‚

------

### ç»Ÿè®¡å‡½æ•°

- `np.sum(a, axis=None)` â†’ æ±‚å’Œã€‚
- `np.mean(a, axis=None)` â†’ å‡å€¼ã€‚
- `np.median(a, axis=None)` â†’ ä¸­ä½æ•°ã€‚
- `np.std(a, axis=None)` â†’ æ ‡å‡†å·®ã€‚
- `np.var(a, axis=None)` â†’ æ–¹å·®ã€‚
- `np.max(a, axis=None)` / `np.min(a, axis=None)` â†’ æœ€å¤§/æœ€å°å€¼ã€‚
- `np.argmax(a, axis=None)` / `np.argmin(a, axis=None)` â†’ æœ€å¤§/æœ€å°å€¼ç´¢å¼•ã€‚

------

### çº¿æ€§ä»£æ•°

- `np.dot(a, b)`
   â†’ çŸ©é˜µä¹˜æ³• / ç‚¹ç§¯ã€‚
- `np.matmul(a, b)` / `a @ b`
   â†’ çŸ©é˜µä¹˜æ³•ï¼ˆæ¨èå†™æ³•ï¼‰ã€‚
- `np.linalg.inv(a)`
   â†’ çŸ©é˜µæ±‚é€†ã€‚
- `np.linalg.det(a)`
   â†’ è¡Œåˆ—å¼ã€‚
- `np.linalg.eig(a)`
   â†’ ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡ã€‚

------

### æ–‡ä»¶è¯»å†™

- `np.loadtxt(fname, dtype=float, delimiter=None, skiprows=0)`
   â†’ ä»æ–‡æœ¬åŠ è½½æ•°æ®ã€‚
- `np.savetxt(fname, X, fmt='%.18e', delimiter=' ')`
   â†’ ä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶ã€‚
- `np.save(file, arr, allow_pickle=True)`
   â†’ ä¿å­˜ä¸º `.npy` æ–‡ä»¶ã€‚
- `np.load(file, allow_pickle=True)`
   â†’ åŠ è½½ `.npy` æ–‡ä»¶ã€‚

## ä¸»è¦æ–¹æ³•ä¸åŠŸèƒ½ç¤ºä¾‹

ä¸‹é¢æ˜¯æ–‡ç« ä¸­æåˆ°ï¼ˆæˆ–æ¶µç›–ï¼‰çš„å‡ ä¸ªé‡è¦æ–¹æ³• / åŠŸèƒ½ã€‚æˆ‘ç»™å‡ºä»£ç  + æ³¨é‡Šè¯´æ˜è¾“å‡ºã€‚

```python
import numpy as np
```

------

### 1. æ•°ç»„çš„åˆ›å»ºæ–¹å¼

#### 1.1 `np.array`

```python
a = np.array([1, 2, 3, 4])
print(a)  
# è¾“å‡ºï¼š [1 2 3 4]

b = np.array([[1, 2, 3, 4], [4, 5, 6, 7]])
print(b)
# è¾“å‡ºï¼š 
# [[1 2 3 4]
#  [4 5 6 7]]
```

#### 1.2 å…¨é›¶ / å…¨ä¸€ / ç©ºæ•°ç»„

```python
z = np.zeros((3, 4))
print(z)
# è¾“å‡ºï¼š
# [[0. 0. 0. 0.]
#  [0. 0. 0. 0.]
#  [0. 0. 0. 0.]]

o = np.ones((2, 5))
print(o)
# è¾“å‡ºï¼š
# [[1. 1. 1. 1. 1.]
#  [1. 1. 1. 1. 1.]]

e = np.empty((2, 3))
print(e)
# è¾“å‡ºï¼šå†…å®¹æœªè¢«åˆå§‹åŒ–ï¼Œå¯èƒ½æ˜¯éšæœºå€¼
```

#### 1.3 `arange` ä¸ `linspace`

```python
r = np.arange(10, 16, 2)
print(r)
# è¾“å‡ºï¼š [10 12 14]

ls = np.linspace(1, 10, 5)
print(ls)
# è¾“å‡ºï¼š [ 1.     3.25   5.5    7.75  10.   ]
```

#### 1.4 éšæœºæ•°ç»„

```python
rand = np.random.rand(3, 4)
print(rand)
# è¾“å‡ºï¼š3Ã—4 çš„æµ®ç‚¹éšæœºæ•°æ•°ç»„ï¼Œä¾‹å¦‚ï¼š
# [[0.567 0.123 ...]
#  ...]

ri = np.random.randint(2, 5, size=(4, 5))
print(ri)
# è¾“å‡ºï¼š4Ã—5 çš„æ•´æ•°æ•°ç»„ï¼Œå€¼åœ¨ [2,5) åŒºé—´å†…
```

------

### 2. æ•°ç»„å±æ€§æŸ¥çœ‹ / ç»´åº¦æ“ä½œ

```python
a = np.array([1, 2, 3, 4])
print(a.ndim)      # ç»´åº¦ï¼ˆè½´æ•°ï¼‰ â†’ è¾“å‡ºï¼š1
print(a.shape)     # å½¢çŠ¶ â†’ è¾“å‡ºï¼š(4,)
print(a.size)      # å…ƒç´ æ€»æ•° â†’ è¾“å‡ºï¼š4
print(a.dtype)     # å…ƒç´ ç±»å‹ â†’ è¾“å‡ºï¼šdtype('int64') æˆ–ç±»ä¼¼ç±»å‹

# reshape é‡å¡‘å½¢çŠ¶
b = np.array([[1,2,3],[4,5,6]])
print(b.shape)     # (2,3)
c = b.reshape((3,2))
print(c.shape, c)
# è¾“å‡ºï¼š
# (3, 2) [[1 2]
#        [3 4]
#        [5 6]]

# è½¬ç½®
d = np.array([[1,2,3],[4,5,6],[7,8,9]])
print(d.T)
# è¾“å‡ºï¼š
# [[1 4 7]
#  [2 5 8]
#  [3 6 9]]
```

------

### 3. æ•°ç»„è¿ç®—ï¼ˆå…ƒç´ çº§è¿ç®—ï¼‰

```python
x = np.array([1,2,3])
y = np.array([4,5,6])
print(x + y)     # è¾“å‡ºï¼š[5 7 9]
print(x * y)     # è¾“å‡ºï¼š[4 10 18]
```

------

### 4. æ•°æ®ç»Ÿè®¡å‡½æ•°

```python
arr = np.array([1, 5, 6, 9])
print(np.mean(arr))     # å¹³å‡å€¼ â†’ 5.25
print(np.median(arr))   # ä¸­ä½æ•° â†’ 5.5ï¼ˆè§†å…·ä½“æ•°æ®è€Œå®šï¼‰
print(np.std(arr))      # æ ‡å‡†å·®
print(np.var(arr))      # æ–¹å·®
print(np.min(arr), np.max(arr))  # æœ€å°å€¼ã€æœ€å¤§å€¼
print(np.sum(arr))      # æ€»å’Œ
print(np.prod(arr))     # æ‰€æœ‰å…ƒç´ ä¹˜ç§¯
print(np.cumsum(arr))   # ç´¯ç§¯å’Œï¼ˆprefix sumï¼‰
```

------

### 5. ç´¢å¼•ä¸åˆ‡ç‰‡

```python
arr = np.array([1,2,3,4,5])
print(arr[1:4])           # è¾“å‡º [2 3 4]

m = np.array([[1,2,3],[4,5,6],[7,8,9]])
print(m[0:2, 1:3])
# è¾“å‡ºï¼š
# [[2 3]
#  [5 6]]

# å¤šç»´åˆ‡ç‰‡ç¤ºä¾‹ï¼šå‡è®¾ä¸€ä¸ªä¸‰ç»´æ•°ç»„ data
data = np.arange(2*3*4).reshape((2,3,4))
print(data[:, :, 0:2])  # å–æœ€åä¸€ç»´çš„å‰ä¸¤åˆ—
```

------

### 6. æ•°ç»„å †å  / æ‹†åˆ†

```python
a = np.array([[1,2],[3,4]])
b = np.array([[5,6],[7,8]])
v = np.vstack((a, b))
print(v)
# è¾“å‡ºï¼š
# [[1 2]
#  [3 4]
#  [5 6]
#  [7 8]]

h = np.hstack((a, b))
print(h)
# è¾“å‡ºï¼š
# [[1 2 5 6]
#  [3 4 7 8]]
```

------

### 7. ä¿å­˜ / åŠ è½½æ•°ç»„

```python
np.save('my_array.npy', a)          # ä¿å­˜åˆ° .npy æ–‡ä»¶
loaded = np.load('my_array.npy')
print(loaded)                        # è¾“å‡ºï¼šä¸ a ç›¸åŒçš„æ•°ç»„
```
