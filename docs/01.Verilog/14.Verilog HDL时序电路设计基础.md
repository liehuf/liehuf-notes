---
title: 14.Verilog HDL时序电路设计基础
date: 2025-08-13 14:00:00
permalink: /pages/Verilog_14/
---

# **时序电路设计基础：从“有记忆”开始**

## **1. 核心特点**

时序电路和组合逻辑最大的区别，就在于它**有记忆**。  
它的输出不仅取决于**当前输入**，还取决于**电路的历史状态**。  

> 组合逻辑是“你说啥我立刻答啥”，时序电路是“我记得你之前说过啥，所以我这次回答不一样”。

换句话说，时序电路**有状态**。

---

## **2. 核心组成**

时序电路 = **组合逻辑电路** + **存储电路（触发器）**

- **组合逻辑电路**：负责“算”，根据输入信号和当前状态生成下一状态和输出。
- **存储电路（触发器）**：负责“记”，保存状态直到下一个时钟触发。

在 Verilog 中，我们通常用 `always @(posedge clk)` 或 `always @(negedge clk)` 来描述触发器的行为。

---

## **3. 同步时序的核心：时钟控制**

在**同步时序电路**中，状态的变化严格由**时钟边沿**控制。  
- **上升沿触发**：`posedge clk`
- **下降沿触发**：`negedge clk`

时钟信号就像一个节拍器：  
> 节拍一到，所有触发器一起“换状态”；节拍之间，状态保持不变。

这种设计的好处：
1. 所有状态变化有统一节拍，电路稳定。
2. 容易分析和调试（画时序图很方便）。

---

## **4. Verilog 实现示例**

下面用一个简单的**D触发器**例子展示同步时序电路的写法：

```verilog
module d_ff (
    input  wire clk,    // 时钟信号
    input  wire rst_n,  // 异步复位，低有效
    input  wire d,      // 数据输入
    output reg  q       // 数据输出（存储状态）
);
    always @(posedge clk or negedge rst_n) begin
        if (!rst_n)
            q <= 1'b0;     // 复位状态
        else
            q <= d;        // 在时钟上升沿，存储输入数据
    end
endmodule
```



## **5. 小结**

- 时序电路的关键是**状态**，状态由触发器保存。
- 同步时序电路用**时钟边沿**统一控制状态变化。
- 组合逻辑 + 存储器件的结合，让电路能“记住过去”，实现计数器、寄存器、状态机等功能。

> 组合逻辑是“计算器”，时序电路是“计算器 + 笔记本”——算得出，还记得住。