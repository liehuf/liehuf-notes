---
title: 17.Verilog HDL移位寄存器
date: 2025-08-13 15:00:00
permalink: /pages/Verilog_17/
---

# **移位寄存器：数据“搬运工”**

## **1. 什么是移位寄存器？**

移位寄存器是一种能在**时钟触发下**，将数据按位向左或向右移动的寄存器。  
它常用来在数字电路中**搬运、延迟或循环数据**。

> 如果触发器是“记忆单元”，移位寄存器就是一列“搬运带”。

---

## **2. 环形移位寄存器**

环形移位寄存器是一种特殊移位寄存器——  
移出的一端数据会**反馈到另一端**，形成一个闭环。

### **工作原理：**
- **右移**：最低位丢掉，高位填入原最高位。
- **左移**：最高位丢掉，最低位填入原最低位。

---

### **Verilog 示例：4位循环右移**

```verilog
module shift_reg_ring (
    input  wire clk,
    input  wire rst_n,    // 低有效复位
    input  wire [3:0] D_init, // 初始值
    output reg  [3:0] D
);
    always @(posedge clk or negedge rst_n) begin
        if (!rst_n)
            D <= D_init;                // 复位加载初始值
        else
            D <= {D[2:0], D[3]};        // 循环右移
    end
endmodule

```

## **3. 应用场景**

环形移位寄存器在工程中很常见，典型用途有：

1. **串/并转换**
    串行输入、并行输出，或反之（常见于串口通信）。
2. **序列检测**
    用移位寄存器保存最近 N 位输入，与目标模式比较。
3. **伪随机码生成**
    配合异或反馈实现 LFSR（线性反馈移位寄存器），用于加密、测试等。

------

## **4. 小结**

- 移位寄存器就是一组能在时钟下按位搬运数据的触发器。
- 环形移位寄存器通过反馈实现“首尾相接”的循环移动。
- 搭配逻辑运算可实现更复杂的功能，如**序列识别**和**伪随机数生成**。

> 它是数据的搬运带，也是时序电路的节拍舞者。
