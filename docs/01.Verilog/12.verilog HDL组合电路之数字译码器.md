---
title: 12.verilog HDL组合电路之数字译码器
date: 2025-08-07 17:10:00
permalink: /pages/Verilog_12/
---

# **数字译码器：Decoder模块的实现**

## **1. 功能说明**

数字译码器的作用是：  
> **将二进制代码“翻译”为唯一一个输出信号为有效的形式**。

说白了，就是告诉你：“当前是哪一位激活？”  
如果编码器是“你说话我翻译成代码”，那译码器就是“你给我代码我告诉你选了谁”。

---

## **2. 示例：2线-4线译码器（2-to-4 Decoder）**

- 输入：2位选择信号 `A[1:0]`
- 输出：4路输出 `Y[3:0]`
- 使能信号：`E`（有效低）

> 当 `E = 0` 时，根据 `A` 的值，仅有一位 `Y[i]` 输出为低电平（即有效）

### **2.1 真值表（带使能）**

| E | A[1] | A[0] | Y[3] | Y[2] | Y[1] | Y[0] |
|:-:|:----:|:----:|:----:|:----:|:----:|:----:|
| 1 |   x  |  x   |  1   |  1   |  1   |  1   |
| 0 |   0  |  0   |  1   |  1   |  1   |  0   |
| 0 |   0  |  1   |  1   |  1   |  0   |  1   |
| 0 |   1  |  0   |  1   |  0   |  1   |  1   |
| 0 |   1  |  1   |  0   |  1   |  1   |  1   |

输出低电平表示有效（有点反直觉，但这是最常见用法，一个真正的man要拿得起放得下）

---

## **3. 原理分析**

译码器的输出函数用**最小项的“非”形式**来表示：

### **输出函数表达式：**

> 对于第 i 路输出，  
> **Yi = ~E & mi**，其中 mi 是第 i 项的最小项（对应 A 的取值）

举例：

- Y0 = ~E & ~A[1] & ~A[0]
- Y1 = ~E & ~A[1] &  A[0]
- Y2 = ~E &  A[1] & ~A[0]
- Y3 = ~E &  A[1] &  A[0]

---

## **4. Verilog实现方式**

### **4.1 方式一：使用逻辑表达式实现**

```verilog
module decoder2to4_expr (
    input wire [1:0] A,
    input wire E,             // 有效低
    output wire [3:0] Y
);
    assign Y[0] = ~(~E & ~A[1] & ~A[0]);
    assign Y[1] = ~(~E & ~A[1] &  A[0]);
    assign Y[2] = ~(~E &  A[1] & ~A[0]);
    assign Y[3] = ~(~E &  A[1] &  A[0]);
endmodule

```

### **说明：**

- 用的是 **组合逻辑“显式写法”**，所有逻辑条件完全展开。
- 输出高电平默认，只有选中那一路输出为低电平（有效）。

------

### **4.2 方式二：使用case语句抽象描述**

```verilog
module decoder2to4_case (
    input wire [1:0] A,
    input wire E,
    output reg [3:0] Y
);
    always @(*) begin
        if (E == 1'b1) begin
            Y = 4'b1111;  // 禁止译码，全1表示全无效
        end else begin
            case (A)
                2'b00: Y = 4'b1110;
                2'b01: Y = 4'b1101;
                2'b10: Y = 4'b1011;
                2'b11: Y = 4'b0111;
                default: Y = 4'b1111;
            endcase
        end
    end
endmodule
```

### **说明：**

- 结构更清晰，适合综合时易读易维护。
- 默认 `Y=4'b1111` 是个好习惯，避免 latch。
