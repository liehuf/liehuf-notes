---
title: 03.C语言的输入输出
date: 2025-10-17 22:00:00
permalink: /pages/C_02/
---

# C语言输入与输出

在学习 C 语言时，“输入与输出”是你和程序交互的第一步。
 掌握它不仅能让程序有“生命力”，还能帮你理解**数据流、缓冲机制、文件操作**等更深层的概念。

------

## 一、C 语言输入输出的本质

C 的输入输出（I/O）基于 **标准库 stdio.h** 提供的函数完成。
 所有的 I/O 操作——无论是键盘、屏幕，还是文件——都被抽象为一种叫 **流（stream）** 的概念。

常见的三种标准流如下：

| 名称     | 类型       | 默认用途     |
| -------- | ---------- | ------------ |
| `stdin`  | 输入流     | 键盘输入     |
| `stdout` | 输出流     | 屏幕输出     |
| `stderr` | 错误输出流 | 错误信息输出 |

------

## 二、最常用的输入输出函数

### 1. 输出：`printf()`

用于将格式化的文本输出到屏幕。

```c
#include <stdio.h>

int main() {
    int age = 20;
    float score = 95.5;
    printf("年龄：%d\n成绩：%.1f\n", age, score);
    return 0;
}
```

**格式说明符：**

| 类型    | 说明              | 示例                 |
| ------- | ----------------- | -------------------- |
| `%d`    | 整型              | `int a = 5;`         |
| `%f`    | 浮点型            | `float x = 1.23;`    |
| `%c`    | 字符              | `'A'`                |
| `%s`    | 字符串            | `"Hello"`            |
| `%p`    | 指针地址          | `printf("%p", ptr);` |
| `%x/%o` | 十六进制 / 八进制 | `printf("%x", num);` |

💡 **小技巧：**

- `%.2f` 表示保留两位小数。
- `%5d` 表示整数宽度为 5，不足补空格。
- `%-10s` 表示字符串左对齐。

------

### 2. 输入：`scanf()`

从键盘读取格式化的数据。

```c
#include <stdio.h>

int main() {
    int age;
    char name[20];
    printf("请输入姓名和年龄：");
    scanf("%s %d", name, &age);
    printf("你好，%s，今年 %d 岁。\n", name, age);
    return 0;
}
```

**注意点：**

- 每个输入变量前都要加 `&` 取地址符（字符串除外）。
- 输入时，空格或回车会分隔不同的数据。
- `scanf` 不擅长读取带空格的字符串，如 `张 三` 会被截断。

------

## 三、字符输入输出：单个字符操作

在某些应用（如命令解析、文件处理）中，你可能需要按字符读写。

| 函数         | 作用                   |
| ------------ | ---------------------- |
| `getchar()`  | 从标准输入读取一个字符 |
| `putchar(c)` | 输出一个字符到屏幕     |

示例：

```c
#include <stdio.h>

int main() {
    char ch;
    printf("输入一个字符：");
    ch = getchar();
    printf("你输入的是：");
    putchar(ch);
    return 0;
}
```

------

## 四、字符串输入输出：整行文本的处理

推荐使用 **`fgets()`**。

```c
#include <stdio.h>

int main() {
    char str[50];
    printf("请输入一句话：");
    fgets(str, sizeof(str), stdin);
    printf("你输入的是：%s", str);
    return 0;
}
```
