---
title: 03.Rust的函数与注释
date: 2025-08-19 10:00:00
permalink: /pages/Rust_03/
---

# Rust 的函数与注释

在 Rust 中，函数是组织代码的基本单元，注释则是对代码意图的说明。理解这两点，可以让程序既清晰又易维护。

---

## 函数的基本结构

最小化的函数形式如下：

```rust
fn main() {
    println!("Hello from Rust!");
}
```

- `fn` 表示函数定义。
- `main` 是程序入口。
- 括号 `()` 表示参数列表，这里为空。
- 花括号 `{}` 包裹函数体。

------

## 参数与返回值

```rust
fn sum(x: i32, y: i32) -> i32 {
    x + y
}

fn main() {
    let result = sum(5, 7);
    println!("5 + 7 = {result}");
}
```

- 参数写作 `名称: 类型`，多个参数用逗号分隔。
- 返回值通过 `-> 类型` 声明。
- 最后一行表达式自动成为返回值。

如果需要显式返回，可以使用 `return`：

```rust
return x + y;
```

------

## 分号与返回值

```rust
fn five() -> i32 {
    5
}

fn five_wrong() -> i32 {
    5;
}
```

- 没有分号：表达式的值就是返回值。
- 有分号：变成语句，不会返回值，类型是 `()`。

这体现了 Rust 区分语句与表达式的方式。

------

## 注释的写法

Rust 支持两种常见注释：

1. 单行注释：

   ```rust
   // 打印一句话
   println!("hi");
   ```

2. 文档注释：

   ```rust
   /// 计算两数之和
   fn sum(a: i32, b: i32) -> i32 {
       a + b
   }
   ```

文档注释不仅能说明函数用途，还能通过 `cargo doc --open` 生成文档。
