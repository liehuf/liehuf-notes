---
title: 14.Rustçš„æ¨¡å—ç³»ç»Ÿ
date: 2025-08-27 22:00:00
permalink: /pages/Rust_14/
---

# Rust çš„æ¨¡å—ç³»ç»Ÿ

åœ¨ Rust é‡Œï¼Œé¡¹ç›®ä¸å¯èƒ½ä¸€ç›´æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œè¶Šå†™è¶Šå¤šè‚¯å®šä¼šä¹±å¥—ã€‚
 æ‰€ä»¥è¯­è¨€æœ¬èº«æä¾›äº†ä¸€æ•´å¥—â€œç»„ç»‡å·¥å…·â€æ¥å¸®ä½ ï¼š

- **åŒ…ï¼ˆPackageï¼‰å’Œ Crate**ï¼šæ•´ä½“çš„ç®¡ç†å’Œæ„å»ºå•ä½
- **æ¨¡å—ï¼ˆModuleï¼‰**ï¼šä»£ç çš„é€»è¾‘åˆ†å—
- **è·¯å¾„ï¼ˆPathï¼‰**ï¼šå‘Šè¯‰ç¼–è¯‘å™¨å»å“ªå„¿æ‰¾ä½ å†™çš„ä¸œè¥¿
- **use**ï¼šç»™è·¯å¾„èµ·åˆ«åã€ç®€åŒ–è®¿é—®
- **åˆ†æ–‡ä»¶ç®¡ç†**ï¼šè®©æ–‡ä»¶å¤¹ç»“æ„å’Œæ¨¡å—ç»“æ„å¯¹é½

ä¸‹é¢æˆ‘ä»¬é€ä¸€æ¥çœ‹ã€‚

------

## ä¸€ã€åŒ…ï¼ˆPackageï¼‰å’Œ Crate

- **Crate** å°±æ˜¯ Rust çš„æœ€å°ç¼–è¯‘å•å…ƒã€‚
  - å¦‚æœæœ‰ `main` å‡½æ•°ï¼Œå®ƒå°±æ˜¯ **äºŒè¿›åˆ¶ Crate**ï¼Œèƒ½ç›´æ¥è¿è¡Œã€‚
  - å¦‚æœæ²¡æœ‰ `main`ï¼Œåªæ˜¯æä¾›åŠŸèƒ½ï¼Œé‚£å°±æ˜¯ **åº“ Crate**ï¼Œåªèƒ½è¢«åˆ«äººå¼•ç”¨ã€‚
- **Package** æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Crate çš„é›†åˆï¼Œå®ƒé‡Œé¢æœ‰ `Cargo.toml` æ–‡ä»¶æ¥è¯´æ˜æ€ä¹ˆæ„å»ºã€‚
  - ä¸€ä¸ªåŒ…æœ€å¤šåªèƒ½æœ‰ **ä¸€ä¸ªåº“ Crate**ã€‚
  - ä½†å¯ä»¥æœ‰å¤šä¸ªäºŒè¿›åˆ¶ Crateï¼ˆæ”¾åœ¨ `src/bin/` ç›®å½•é‡Œï¼‰ã€‚

ğŸ‘‰ ä¸¾ä¸ªæ —å­ï¼š

```css
my_project/
 â”œâ”€ Cargo.toml   # åŒ…çš„é…ç½®
 â””â”€ src/
     â””â”€ main.rs  # é»˜è®¤çš„äºŒè¿›åˆ¶ crate
```

------

## äºŒã€æ¨¡å—ï¼ˆmodï¼‰å’Œå¯è§æ€§

éšç€é¡¹ç›®å¢é•¿ï¼Œæˆ‘ä»¬ä¼šç”¨ **æ¨¡å—**ï¼ˆmoduleï¼‰æŠŠä»£ç åˆ†å—ã€‚
 å†™æ³•æ˜¯è¿™æ ·çš„ï¼š

```rust
mod network {
    fn connect() {
        println!("connected!");
    }
}
```

è¿™é‡Œçš„ `network` å°±æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚
 è¦æ³¨æ„ï¼Œ**æ¨¡å—é‡Œçš„ä¸œè¥¿é»˜è®¤æ˜¯ç§æœ‰çš„**ï¼Œå¤–é¢ç”¨ä¸äº†ã€‚

æƒ³è®©å¤–é¢èƒ½ç”¨ï¼Œå°±è¦åŠ  `pub`ï¼š

```rust
mod network {
    pub fn connect() {
        println!("connected!");
    }
}

fn main() {
    network::connect();
}
```

------

## ä¸‰ã€è·¯å¾„ï¼ˆPathï¼‰

å¦‚æœæ¨¡å—è¶Šæ¥è¶Šå¤šï¼Œå°±è¦å­¦ä¼šç”¨è·¯å¾„æ¥è®¿é—®ã€‚è·¯å¾„åˆ†ä¸¤ç§ï¼š

- **ç»å¯¹è·¯å¾„**ï¼šä» crate æ ¹å¼€å§‹ï¼Œæ¯”å¦‚ `crate::network::connect`
- **ç›¸å¯¹è·¯å¾„**ï¼šä»å½“å‰ä½ç½®å¼€å§‹ï¼Œæ¯”å¦‚ `super::` å¾€ä¸Šï¼Œ`self::` å½“å‰æ¨¡å—

```rust
mod network {
    pub fn connect() {}
}

fn main() {
    // ç»å¯¹è·¯å¾„
    crate::network::connect();

    // ç›¸å¯¹è·¯å¾„ï¼ˆåœ¨ main.rs é¡¶å±‚ï¼‰
    network::connect();
}
```

------

## å››ã€use ç®€åŒ–è·¯å¾„

å¦‚æœä½ è€æ˜¯å†™ `crate::network::connect`ï¼Œä¼šå¾ˆçƒ¦ã€‚
 è¿™æ—¶å¯ä»¥ç”¨ `use`ï¼š

```rust
mod network {
    pub fn connect() {}
}

use crate::network::connect;

fn main() {
    connect();
}
```

è¿˜å¯ä»¥ç»™åå­—èµ·åˆ«åï¼š

```rust
use crate::network::connect as net_connect;

fn main() {
    net_connect();
}
```

è¦è®©åˆ«äººä¹Ÿèƒ½ç”¨è¿™ä¸ªç®€åŒ–è·¯å¾„ï¼Œå¯ä»¥å†™ `pub use`ã€‚è¿™å«â€œé‡å¯¼å‡ºâ€ã€‚

------

## äº”ã€æ¨¡å—æ‹†åˆ†åˆ°æ–‡ä»¶

å½“æ¨¡å—è¶Šæ¥è¶Šå¤§ï¼Œå¯ä»¥æŠŠå®ƒä»¬åˆ†åˆ°ä¸åŒçš„æ–‡ä»¶ã€‚

å‡è®¾ä½ å†™äº† `mod network;`ï¼ŒRust ä¼šå»æ‰¾ï¼š

1. `network.rs` æ–‡ä»¶
2. æˆ–è€… `network/mod.rs` æ–‡ä»¶

æ¯”å¦‚ç›®å½•é•¿è¿™æ ·ï¼š

```css
src/
 â”œâ”€ main.rs
 â””â”€ network.rs
```

`main.rs` é‡Œå†™ï¼š

```rust
mod network;

fn main() {
    network::connect();
}
```

`network.rs` æ–‡ä»¶é‡Œå†™ï¼š

```rust
pub fn connect() {
    println!("connected!");
}
```

è¿™æ ·ï¼Œæ¨¡å—å’Œæ–‡ä»¶å¤¹ç»“æ„å°±èƒ½å¯¹ä¸Šäº†ï¼Œé˜…è¯»èµ·æ¥å¾ˆæ¸…æ™°ã€‚
