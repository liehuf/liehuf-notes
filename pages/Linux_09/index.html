<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>09.é™æ€ã€åŠ¨æ€é“¾æ¥ | åŸç çºªäº‹</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/base/favicon.ico">
    <script language="javascript" type="text/javascript" src="/js/pgmanor-self.js"></script>
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-LPRG9SPLFF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-LPRG9SPLFF');
    </script>
    <meta name="description" content="vdoingåšå®¢ä¸»é¢˜æ¨¡æ¿">
    <meta name="keywords" content="çŒæˆ·f,golang,vue,go-web,go-admin,go-ldap-admin">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.e44029f7.css" as="style"><link rel="preload" href="/assets/js/app.30135694.js" as="script"><link rel="preload" href="/assets/js/2.e2bf2c87.js" as="script"><link rel="preload" href="/assets/js/36.ec92cd05.js" as="script"><link rel="prefetch" href="/assets/js/10.c2dfec06.js"><link rel="prefetch" href="/assets/js/11.107b05d0.js"><link rel="prefetch" href="/assets/js/12.edfaf6c0.js"><link rel="prefetch" href="/assets/js/13.cadc9fd8.js"><link rel="prefetch" href="/assets/js/14.20aa7c6d.js"><link rel="prefetch" href="/assets/js/15.350f58ce.js"><link rel="prefetch" href="/assets/js/16.05e6aae6.js"><link rel="prefetch" href="/assets/js/17.9bcfd6f2.js"><link rel="prefetch" href="/assets/js/18.eca2e313.js"><link rel="prefetch" href="/assets/js/19.b2cd9a49.js"><link rel="prefetch" href="/assets/js/20.c3aa8387.js"><link rel="prefetch" href="/assets/js/21.393603cc.js"><link rel="prefetch" href="/assets/js/22.7e530825.js"><link rel="prefetch" href="/assets/js/23.624f4e92.js"><link rel="prefetch" href="/assets/js/24.f5b50c79.js"><link rel="prefetch" href="/assets/js/25.ae94f9f3.js"><link rel="prefetch" href="/assets/js/26.66856a58.js"><link rel="prefetch" href="/assets/js/27.cdef9aaa.js"><link rel="prefetch" href="/assets/js/28.4037e32a.js"><link rel="prefetch" href="/assets/js/29.c6f3d12e.js"><link rel="prefetch" href="/assets/js/3.b691d1ea.js"><link rel="prefetch" href="/assets/js/30.bf297e5e.js"><link rel="prefetch" href="/assets/js/31.f7ead1c7.js"><link rel="prefetch" href="/assets/js/32.effa0449.js"><link rel="prefetch" href="/assets/js/33.a6ba0b3a.js"><link rel="prefetch" href="/assets/js/34.c602cf87.js"><link rel="prefetch" href="/assets/js/35.4e31415c.js"><link rel="prefetch" href="/assets/js/37.2254cddb.js"><link rel="prefetch" href="/assets/js/38.5c6faa13.js"><link rel="prefetch" href="/assets/js/39.4215a288.js"><link rel="prefetch" href="/assets/js/4.a8f5cda8.js"><link rel="prefetch" href="/assets/js/40.6839492d.js"><link rel="prefetch" href="/assets/js/41.d6feb21e.js"><link rel="prefetch" href="/assets/js/42.dd1f8505.js"><link rel="prefetch" href="/assets/js/43.e16bb789.js"><link rel="prefetch" href="/assets/js/44.11ebd35e.js"><link rel="prefetch" href="/assets/js/45.c07ef2fb.js"><link rel="prefetch" href="/assets/js/46.30b335d4.js"><link rel="prefetch" href="/assets/js/47.09e77811.js"><link rel="prefetch" href="/assets/js/48.d39cf674.js"><link rel="prefetch" href="/assets/js/49.1982de09.js"><link rel="prefetch" href="/assets/js/5.5f6e4411.js"><link rel="prefetch" href="/assets/js/50.e76083a3.js"><link rel="prefetch" href="/assets/js/51.ca8d92a6.js"><link rel="prefetch" href="/assets/js/52.1580a4fb.js"><link rel="prefetch" href="/assets/js/53.75d57a2a.js"><link rel="prefetch" href="/assets/js/54.fd976bce.js"><link rel="prefetch" href="/assets/js/55.c0cb6c21.js"><link rel="prefetch" href="/assets/js/56.57fa20b3.js"><link rel="prefetch" href="/assets/js/57.36a67d9a.js"><link rel="prefetch" href="/assets/js/58.e685033f.js"><link rel="prefetch" href="/assets/js/59.36ff968c.js"><link rel="prefetch" href="/assets/js/6.d7e8b00c.js"><link rel="prefetch" href="/assets/js/60.ed61a675.js"><link rel="prefetch" href="/assets/js/61.c3b228d7.js"><link rel="prefetch" href="/assets/js/62.06ca15d9.js"><link rel="prefetch" href="/assets/js/63.26789675.js"><link rel="prefetch" href="/assets/js/7.0701bfd8.js"><link rel="prefetch" href="/assets/js/8.e2c5cf45.js"><link rel="prefetch" href="/assets/js/9.711e3837.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e44029f7.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/base/bar.png" alt="åŸç çºªäº‹" class="logo"> <span class="site-name can-hide">åŸç çºªäº‹</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/pages/Notes/" class="nav-link">åšå®¢ç¬”è®°</a></div><div class="nav-item"><a href="/pages/Projects/" class="nav-link">å·¥ç¨‹</a></div><div class="nav-item"><a href="/pages/Teasting/" class="nav-link">åæ§½</a></div><div class="nav-item"><a href="/message-board/" class="nav-link">ç•™è¨€æ¿</a></div><div class="nav-item"><a href="https://blog.yuanmajishi.top/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="/pages/Notes/" class="nav-link">åšå®¢ç¬”è®°</a></div><div class="nav-item"><a href="/pages/Projects/" class="nav-link">å·¥ç¨‹</a></div><div class="nav-item"><a href="/pages/Teasting/" class="nav-link">åæ§½</a></div><div class="nav-item"><a href="/message-board/" class="nav-link">ç•™è¨€æ¿</a></div><div class="nav-item"><a href="https://blog.yuanmajishi.top/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/Linux_01/" class="sidebar-link">01.Linuxè¿è¡ŒåŸç†</a></li><li><a href="/pages/Linux_02/" class="sidebar-link">02.æ–‡ä»¶æ“ä½œ</a></li><li><a href="/pages/Linux_03/" class="sidebar-link">03.è¿›ç¨‹ç®¡ç†</a></li><li><a href="/pages/Linux_04/" class="sidebar-link">04.Shellç»“æ„</a></li><li><a href="/pages/Linux_05/" class="sidebar-link">05.æ–‡æœ¬å¤„ç†</a></li><li><a href="/pages/Linux_06/" class="sidebar-link">06.Shellç¼–ç¨‹</a></li><li><a href="/pages/Linux_07/" class="sidebar-link">07.ç½‘ç»œé€šä¿¡</a></li><li><a href="/pages/Linux_08/" class="sidebar-link">08.ç¼–è¯‘åŸç†</a></li><li><a href="/pages/Linux_09/" aria-current="page" class="active sidebar-link">09.é™æ€ã€åŠ¨æ€é“¾æ¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/Linux_09/#ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥" class="sidebar-link">ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/Linux_09/#ğŸ”¹-ç”¨-åšèœ-æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹" class="sidebar-link">ğŸ”¹ ç”¨â€œåšèœâ€æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/Linux_09/#äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶" class="sidebar-link">äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/Linux_09/#ä¸‰ã€é™æ€é“¾æ¥-ä»£ç -æ‹·è´-è¿›å¯æ‰§è¡Œæ–‡ä»¶" class="sidebar-link">ä¸‰ã€é™æ€é“¾æ¥ï¼šä»£ç â€œæ‹·è´â€è¿›å¯æ‰§è¡Œæ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/Linux_09/#å››ã€åŠ¨æ€é“¾æ¥-ç¬¦å·-å¼•ç”¨-ä¸è¿è¡Œæ—¶è§£æ" class="sidebar-link">å››ã€åŠ¨æ€é“¾æ¥ï¼šç¬¦å·â€œå¼•ç”¨â€ä¸è¿è¡Œæ—¶è§£æ</a></li></ul></li><li><a href="/pages/Linux_10/" class="sidebar-link">10.çœ‹äºŒè¿›åˆ¶</a></li><li><a href="/pages/Linux_11/" class="sidebar-link">11.MakefileåŠå…¶å˜é‡</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>IC-focused Universal Linux</span></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/liehuf/" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>çŒæˆ·f</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2026-02-24</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">09.é™æ€ã€åŠ¨æ€é“¾æ¥<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="é™æ€è¿æ¥å’ŒåŠ¨æ€é“¾æ¥çš„å®è·µæ€§ç†è§£"><a href="#é™æ€è¿æ¥å’ŒåŠ¨æ€é“¾æ¥çš„å®è·µæ€§ç†è§£" class="header-anchor">#</a> é™æ€è¿æ¥å’ŒåŠ¨æ€é“¾æ¥çš„å®è·µæ€§ç†è§£</h1> <h2 id="ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥"><a href="#ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥" class="header-anchor">#</a> ä¸€ã€æŠ½è±¡åœ°ç†è§£é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥</h2> <blockquote><p><strong>é™æ€é“¾æ¥ï¼šç¼–è¯‘æ—¶æŠŠâ€œåˆ«äººå†™å¥½çš„ä»£ç â€ç›´æ¥æ‹·è´è¿›ä½ çš„ç¨‹åºé‡Œ</strong> <strong>åŠ¨æ€é“¾æ¥ï¼šç¼–è¯‘æ—¶åªè®°ä¸‹â€œæˆ‘ä»¥åè¦ç”¨è°â€ï¼ŒçœŸæ­£çš„ä»£ç ç­‰ç¨‹åºè¿è¡Œæ—¶å†æ‰¾</strong></p></blockquote> <p>æ³¨æ„è¿™ä¸¤ä¸ªè¯çš„ä¸»è¯­ï¼š</p> <ul><li><strong>é™ / åŠ¨ï¼Œè¯´çš„ä¸æ˜¯ç¨‹åºæœ¬èº«</strong></li> <li>è¯´çš„æ˜¯ï¼š<strong>åº“ä»£ç â€œä»€ä¹ˆæ—¶å€™ã€ä»¥ä»€ä¹ˆæ–¹å¼â€è¿›å…¥ä½ çš„ç¨‹åº</strong></li></ul> <h3 id="ğŸ”¹-ç”¨-åšèœ-æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹"><a href="#ğŸ”¹-ç”¨-åšèœ-æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹" class="header-anchor">#</a> ğŸ”¹ ç”¨â€œåšèœâ€æ‰“ä¸ªä¸ä½çº§çš„æ¯”æ–¹</h3> <h4 id="é™æ€é“¾æ¥-static"><a href="#é™æ€é“¾æ¥-static" class="header-anchor">#</a> é™æ€é“¾æ¥ï¼ˆstaticï¼‰</h4> <p>ä½ åšé¥­æ—¶ï¼šæŠŠ <strong>ç›ã€æ²¹ã€é…±æ²¹ã€é”…å…¨éƒ¨è£…è¿›ä½ è‡ªå·±çš„èƒŒåŒ…ï¼Œå»åˆ°å“ªå„¿ï¼Œéƒ½ç”¨ä½ è‡ªå·±çš„</strong></p> <p>ğŸ‘‰ å¥½å¤„ï¼šä¸ä¾èµ–ç¯å¢ƒå¹¶ä¸”æ”¾åˆ°å“ªéƒ½èƒ½è·‘ï¼ˆåµŒå…¥å¼ã€å›ºä»¶å–œæ¬¢ï¼‰</p> <p>ğŸ‘‰ åå¤„ï¼šèƒŒåŒ…å¾ˆé‡ï¼ˆæ–‡ä»¶å¤§ï¼‰ï¼Œæ¯ä¸ªäººéƒ½èƒŒä¸€å¥—ï¼ˆæµªè´¹å†…å­˜ï¼‰</p> <hr> <h4 id="åŠ¨æ€é“¾æ¥-dynamic"><a href="#åŠ¨æ€é“¾æ¥-dynamic" class="header-anchor">#</a> åŠ¨æ€é“¾æ¥ï¼ˆdynamicï¼‰</h4> <p>ä½ åšé¥­æ—¶ï¼šèƒŒåŒ…é‡Œ<strong>ä¸å¸¦é”…</strong>ï¼Œåªå†™ä¸€å¼ çº¸ï¼šâ€œæˆ‘è¦ç”¨ 3 å·å¨æˆ¿çš„é”…â€</p> <p>ç­‰ä½ <strong>çœŸæ­£å¼€å§‹åšé¥­ï¼ˆç¨‹åºè¿è¡Œï¼‰</strong>ï¼šç³»ç»ŸæŠŠé”…ç»™ä½ ï¼Œå¤šä¸ªäººè¿˜èƒ½å…±ç”¨åŒä¸€å£é”…</p> <p>ğŸ‘‰ å¥½å¤„ï¼šç¨‹åºå°ï¼Œå†…å­˜å¯å…±äº«</p> <p>ğŸ‘‰ åå¤„ï¼šå¨æˆ¿æ²¡é”…ï¼Œä½ å°±å®Œè›‹ï¼ˆè¿è¡Œæ—¶æŠ¥é”™ï¼‰</p> <hr> <h2 id="äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶"><a href="#äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶" class="header-anchor">#</a> äºŒã€ç¼–å†™å¥½çš„åº“æ–‡ä»¶</h2> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">MATH_LIB_H	</span><span class="token comment">// å¤´æ–‡ä»¶</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MATH_LIB_H</span></span>

<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">mul</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;math_lib.h&quot;</span> <span class="token comment">// æºæ–‡ä»¶</span></span>

<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">mul</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ä¸‰ã€é™æ€é“¾æ¥-ä»£ç -æ‹·è´-è¿›å¯æ‰§è¡Œæ–‡ä»¶"><a href="#ä¸‰ã€é™æ€é“¾æ¥-ä»£ç -æ‹·è´-è¿›å¯æ‰§è¡Œæ–‡ä»¶" class="header-anchor">#</a> ä¸‰ã€é™æ€é“¾æ¥ï¼šä»£ç â€œæ‹·è´â€è¿›å¯æ‰§è¡Œæ–‡ä»¶</h2> <p>é™æ€é“¾æ¥çš„æ ¸å¿ƒåªæœ‰ä¸€å¥è¯ï¼š</p> <blockquote><p><strong>ç›®æ ‡æ–‡ä»¶é‡Œçš„ä»£ç ï¼Œè¢«ç›´æ¥åˆå¹¶è¿›æœ€ç»ˆ ELFã€‚</strong></p></blockquote> <p>ä»¥ä¸‹æ˜¯æ‰“åŒ…å¹¶ç¼–è¯‘è¾“å‡ºçš„è¿‡ç¨‹ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ikun@ubuntu2004:~/Desktop/link_test$ gcc <span class="token parameter variable">-c</span> math_lib.c <span class="token parameter variable">-o</span> math_lib.o	<span class="token comment"># ç”Ÿæˆç›®æ ‡æ–‡ä»¶</span>
ikun@ubuntu2004:~/Desktop/link_test$ <span class="token function">file</span> math_lib.o	<span class="token comment"># æŸ¥çœ‹ç›®æ ‡æ–‡ä»¶ç±»å‹</span>
math_lib.o: ELF <span class="token number">64</span>-bit LSB relocatable, x86-64, version <span class="token number">1</span> <span class="token punctuation">(</span>SYSV<span class="token punctuation">)</span>, not stripped <span class="token comment"># è¿™æ˜¯ä¸€ä¸ªè¿˜æ²¡è¢«é“¾æ¥çš„â€œé›¶ä»¶â€</span>
ikun@ubuntu2004:~/Desktop/link_test$ ar rcs libmath.a math_lib.o	<span class="token comment"># æŠŠ.oæ–‡ä»¶æ‰“åŒ…æˆ.aæ–‡ä»¶ï¼Œlibmathè¿™ä¸ªåå­—æ˜¯æ‰¾mathç›¸å…³çš„æ–‡ä»¶</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ç¼–å†™<code>test_lib.c</code>æ–‡ä»¶ç”¨äºæµ‹è¯•</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;math_lib.h&quot;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a + b = %d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a * b = %d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">mul</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä½¿ç”¨å‘½ä»¤ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ikun@ubuntu2004:~/Desktop/link_test$ gcc test_lib.c <span class="token parameter variable">-o</span> test_static <span class="token parameter variable">-static</span> -L. <span class="token parameter variable">-lmath</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>-static</code>é€‰é¡¹è¡¨ç¤ºç”Ÿæˆé™æ€é“¾æ¥ï¼Œä½œç”¨æ˜¯æŠŠç¨‹åºè¿è¡Œéœ€è¦çš„æ‰€æœ‰ä¾èµ–æ‰“åŒ…ï¼Œå¦‚æœä¸åŠ ï¼Œåˆ™ä¸ºåŠ¨æ€åº“</li> <li><code>-L.</code> è¡¨ç¤ºä¼˜å…ˆåœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾</li> <li><code>-lmath</code>è¡¨ç¤ºç”Ÿæˆçš„æ–‡ä»¶åï¼Œè§„åˆ™æ˜¯è‡ªåŠ¨åœ¨å‰é¢åŠ libï¼Œåœ¨åé¢åŠ .a</li></ul> <p>æœ€åè¿›è¡ŒéªŒè¯ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ikun@ubuntu2004:~/Desktop/link_test$ <span class="token function">ls</span> <span class="token parameter variable">-lh</span> test_static <span class="token comment"># -lä»£è¡¨ä»¥é•¿æ ¼å¼æ˜¾ç¤ºä¿¡æ¯ï¼Œ-hä»£è¡¨humanlize,äººæ€§åŒ–</span>
-rwxrwxr-x <span class="token number">1</span> ikun ikun 880K  <span class="token number">2</span>æœˆ <span class="token number">24</span> <span class="token number">20</span>:18 test_static
ikun@ubuntu2004:~/Desktop/link_test$ ldd test_static
	ä¸æ˜¯åŠ¨æ€å¯æ‰§è¡Œæ–‡ä»¶
ikun@ubuntu2004:~/Desktop/link_test$ nm test_static <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">&quot; add$| mul$&quot;</span>
00000000004017b0 T <span class="token function">add</span>
00000000004017c8 T mul
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>æ–‡ä»¶è¾ƒå¤§</li> <li>ä¸æ˜¯åŠ¨è¯­é“¾æ¥</li> <li>å·²å®šä¹‰å‡½æ•°ä»£ç æ®µ</li></ul> <hr> <h2 id="å››ã€åŠ¨æ€é“¾æ¥-ç¬¦å·-å¼•ç”¨-ä¸è¿è¡Œæ—¶è§£æ"><a href="#å››ã€åŠ¨æ€é“¾æ¥-ç¬¦å·-å¼•ç”¨-ä¸è¿è¡Œæ—¶è§£æ" class="header-anchor">#</a> å››ã€åŠ¨æ€é“¾æ¥ï¼šç¬¦å·â€œå¼•ç”¨â€ä¸è¿è¡Œæ—¶è§£æ</h2> <p>åŠ¨æ€é“¾æ¥å¹¶ä¸æ‹·è´ä»£ç ï¼Œè€Œæ˜¯ç•™ä¸‹â€œæ¬ æ¡â€ã€‚</p> <blockquote><p>ELF é‡Œåªè®°å½•ï¼šâ€œæˆ‘éœ€è¦ä¸€ä¸ªå« <code>add</code> çš„ç¬¦å·ï¼Œå®ƒåœ¨æŸä¸ªå…±äº«åº“é‡Œï¼Œè‡³äºåœ¨å“ªé‡Œï¼Œä¿ºä¸ä¸­å˜â€</p></blockquote> <p>é¦–å…ˆä»æ—§æˆæˆç›®æ ‡æ–‡ä»¶</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ikun@ubuntu2004:~/Desktop/link_test$ gcc <span class="token parameter variable">-c</span> math_lib.c <span class="token parameter variable">-o</span> math_lib_pico.o <span class="token parameter variable">-fPIC</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>-fPIC çš„æ„ä¹‰:-fPIC è®©ä»£ç ä¸ä¾èµ–å›ºå®šåœ°å€ï¼Œé€šè¿‡ GOT/PLT é—´æ¥å¯»å€ï¼Œä½¿åŒä¸€ä»½ä»£ç èƒ½è¢«å¤šä¸ªè¿›ç¨‹å…±äº«</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ikun@ubuntu2004:~/Desktop/link_test$ gcc <span class="token parameter variable">-shared</span> <span class="token parameter variable">-o</span> libmath.so math_lib_pico.o
ikun@ubuntu2004:~/Desktop/link_test$ <span class="token function">file</span> libmath.so
libmath.so: ELF <span class="token number">64</span>-bit LSB shared object, x86-64, version <span class="token number">1</span> <span class="token punctuation">(</span>SYSV<span class="token punctuation">)</span>, dynamically linked, BuildID<span class="token punctuation">[</span>sha1<span class="token punctuation">]</span><span class="token operator">=</span>f701bf17254bed35c1ab68eea4487c995377e054, not stripped
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>-shared</code>é€‰é¡¹ ï¼š<strong>ä¸è¦ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼Œç”Ÿæˆâ€œå¯è¢«åŠ è½½çš„å…±äº«å¯¹è±¡â€ã€‚</strong></p> <p>å®ƒä¼šè®©é“¾æ¥å™¨ï¼šä¸è¦æ±‚ <code>main</code>ï¼Œå…è®¸æœªè§£æç¬¦å·ï¼Œç”Ÿæˆ <code>.so</code> ç±»å‹ ELF</p> <p>ç”ŸæˆåŠ¨æ€åº“åæŸ¥ä¸€ä¸‹æˆ·å£ï¼ˆä¾èµ–å…³ç³»ã€æŠŠæ–‡ä»¶æ‰’å¼€çœ‹çœ‹é‡Œé¢æœ‰å“ªäº›å‡½æ•°ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ikun@ubuntu2004:~/Desktop/link_test$ ldd test_dynamic
	linux-vdso.so.1 <span class="token punctuation">(</span>0x00007ffd9bdf4000<span class="token punctuation">)</span>
	libmath.so <span class="token operator">=</span><span class="token operator">&gt;</span> ./libmath.so <span class="token punctuation">(</span>0x0000748d6e61a000<span class="token punctuation">)</span>	<span class="token comment"># è¿™ä¸€ä¸ªåº“ä¸ºç”¨æˆ·æ‰“åŒ…çš„åº“</span>
	libc.so.6 <span class="token operator">=</span><span class="token operator">&gt;</span> /lib/x86_64-linux-gnu/libc.so.6 <span class="token punctuation">(</span>0x0000748d6e200000<span class="token punctuation">)</span>
	/lib64/ld-linux-x86-64.so.2 <span class="token punctuation">(</span>0x0000748d6e626000<span class="token punctuation">)</span>
ikun@ubuntu2004:~/Desktop/link_test$ nm test_dynamic <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token string">&quot; add$| mul$&quot;</span>
                 U <span class="token function">add</span>  <span class="token comment"># UæŒ‡çš„æ˜¯æœªå®šä¹‰ï¼Œè¿™æ˜¯ä¸€ç§è®¾è®¡ï¼Œè€Œå¹¶éé”™è¯¯</span>
                 U mul
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>æ¥ä¸‹æ¥æœ‰ä¸€ä¸ªæŠ¥é”™ï¼Œé€šè¿‡åŠ äº†ä¸€ä¸ªç¯å¢ƒå˜é‡è§£å†³ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>kun@ubuntu2004:~/Desktop/link_test$ ./test_dynamic
./test_dynamic: error <span class="token keyword">while</span> loading shared libraries: libmath.so: cannot <span class="token function">open</span> shared object file: No such <span class="token function">file</span> or directory
ikun@ubuntu2004:~/Desktop/link_test$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span>./:<span class="token variable">$LD_LIBRARY_PATH</span>
ikun@ubuntu2004:~/Desktop/link_test$ ./test_dynamic
a + b <span class="token operator">=</span> <span class="token number">8</span>
a * b <span class="token operator">=</span> <span class="token number">15</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å«ä¹‰æ˜¯ï¼šåŠ¨æ€é“¾æ¥å™¨åœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œå…ˆä» <code>./</code> è¿™ä¸ªç›®å½•æ‰¾ <code>.so</code>ï¼Œå†æ‰¾ç³»ç»Ÿé»˜è®¤è·¯å¾„ã€‚</p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2026/02/26, 13:18:02</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/Linux_08/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">08.ç¼–è¯‘åŸç†</div></a> <a href="/pages/Linux_10/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">10.çœ‹äºŒè¿›åˆ¶</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/Linux_08/" class="prev">08.ç¼–è¯‘åŸç†</a></span> <span class="next"><a href="/pages/Linux_10/">10.çœ‹äºŒè¿›åˆ¶</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="https://github.com/liehuf" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="mailto:17715076182@163.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://blog.csdn.net/liehuf" title="CSDN" target="_blank" class="iconfont icon-csdn"></a><a href="https://www.zhihu.com/people/44-97-46-49" title="çŸ¥ä¹" target="_blank" class="iconfont icon-zhihu"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2025-2026
    <span>liehuf | <a href="https://github.com/liehuf/liehuf-notes/blob/main/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.30135694.js" defer></script><script src="/assets/js/2.e2bf2c87.js" defer></script><script src="/assets/js/36.ec92cd05.js" defer></script>
  </body>
</html>
